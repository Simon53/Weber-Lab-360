function ur(n,e){return function(){return n.apply(e,arguments)}}const{toString:Gi}=Object.prototype,{getPrototypeOf:Yt}=Object,{iterator:ft,toStringTag:hr}=Symbol,dt=(n=>e=>{const t=Gi.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),oe=n=>(n=n.toLowerCase(),e=>dt(e)===n),pt=n=>e=>typeof e===n,{isArray:Re}=Array,Ee=pt("undefined");function Fe(n){return n!==null&&!Ee(n)&&n.constructor!==null&&!Ee(n.constructor)&&G(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const lr=oe("ArrayBuffer");function Zi(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&lr(n.buffer),e}const eo=pt("string"),G=pt("function"),fr=pt("number"),He=n=>n!==null&&typeof n=="object",to=n=>n===!0||n===!1,et=n=>{if(dt(n)!=="object")return!1;const e=Yt(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hr in n)&&!(ft in n)},no=n=>{if(!He(n)||Fe(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},ro=oe("Date"),so=oe("File"),oo=oe("Blob"),ao=oe("FileList"),co=n=>He(n)&&G(n.pipe),uo=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||G(n.append)&&((e=dt(n))==="formdata"||e==="object"&&G(n.toString)&&n.toString()==="[object FormData]"))},ho=oe("URLSearchParams"),[lo,fo,po,go]=["ReadableStream","Request","Response","Headers"].map(oe),mo=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Me(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Re(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Fe(n))return;const c=t?Object.getOwnPropertyNames(n):Object.keys(n),u=c.length;let f;for(r=0;r<u;r++)f=c[r],e.call(null,n[f],f,n)}}function dr(n,e){if(Fe(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Se=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),pr=n=>!Ee(n)&&n!==Se;function Ft(){const{caseless:n,skipUndefined:e}=pr(this)&&this||{},t={},r=(i,c)=>{const u=n&&dr(t,c)||c;et(t[u])&&et(i)?t[u]=Ft(t[u],i):et(i)?t[u]=Ft({},i):Re(i)?t[u]=i.slice():(!e||!Ee(i))&&(t[u]=i)};for(let i=0,c=arguments.length;i<c;i++)arguments[i]&&Me(arguments[i],r);return t}const yo=(n,e,t,{allOwnKeys:r}={})=>(Me(e,(i,c)=>{t&&G(i)?n[c]=ur(i,t):n[c]=i},{allOwnKeys:r}),n),bo=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),vo=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},wo=(n,e,t,r)=>{let i,c,u;const f={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),c=i.length;c-- >0;)u=i[c],(!r||r(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=t!==!1&&Yt(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},_o=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},So=n=>{if(!n)return null;if(Re(n))return n;let e=n.length;if(!fr(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},ko=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Yt(Uint8Array)),Co=(n,e)=>{const r=(n&&n[ft]).call(n);let i;for(;(i=r.next())&&!i.done;){const c=i.value;e.call(n,c[0],c[1])}},To=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Eo=oe("HTMLFormElement"),Ro=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),jn=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Oo=oe("RegExp"),gr=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Me(t,(i,c)=>{let u;(u=e(i,c,n))!==!1&&(r[c]=u||i)}),Object.defineProperties(n,r)},xo=n=>{gr(n,(e,t)=>{if(G(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(!!G(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Ao=(n,e)=>{const t={},r=i=>{i.forEach(c=>{t[c]=!0})};return Re(n)?r(n):r(String(n).split(e)),t},Po=()=>{},Lo=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function No(n){return!!(n&&G(n.append)&&n[hr]==="FormData"&&n[ft])}const Bo=n=>{const e=new Array(10),t=(r,i)=>{if(He(r)){if(e.indexOf(r)>=0)return;if(Fe(r))return r;if(!("toJSON"in r)){e[i]=r;const c=Re(r)?[]:{};return Me(r,(u,f)=>{const g=t(u,i+1);!Ee(g)&&(c[f]=g)}),e[i]=void 0,c}}return r};return t(n,0)},Io=oe("AsyncFunction"),Uo=n=>n&&(He(n)||G(n))&&G(n.then)&&G(n.catch),mr=((n,e)=>n?setImmediate:e?((t,r)=>(Se.addEventListener("message",({source:i,data:c})=>{i===Se&&c===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Se.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",G(Se.postMessage)),Do=typeof queueMicrotask<"u"?queueMicrotask.bind(Se):typeof process<"u"&&process.nextTick||mr,qo=n=>n!=null&&G(n[ft]),d={isArray:Re,isArrayBuffer:lr,isBuffer:Fe,isFormData:uo,isArrayBufferView:Zi,isString:eo,isNumber:fr,isBoolean:to,isObject:He,isPlainObject:et,isEmptyObject:no,isReadableStream:lo,isRequest:fo,isResponse:po,isHeaders:go,isUndefined:Ee,isDate:ro,isFile:so,isBlob:oo,isRegExp:Oo,isFunction:G,isStream:co,isURLSearchParams:ho,isTypedArray:ko,isFileList:ao,forEach:Me,merge:Ft,extend:yo,trim:mo,stripBOM:bo,inherits:vo,toFlatObject:wo,kindOf:dt,kindOfTest:oe,endsWith:_o,toArray:So,forEachEntry:Co,matchAll:To,isHTMLForm:Eo,hasOwnProperty:jn,hasOwnProp:jn,reduceDescriptors:gr,freezeMethods:xo,toObjectSet:Ao,toCamelCase:Ro,noop:Po,toFiniteNumber:Lo,findKey:dr,global:Se,isContextDefined:pr,isSpecCompliantForm:No,toJSONObject:Bo,isAsyncFn:Io,isThenable:Uo,setImmediate:mr,asap:Do,isIterable:qo};function P(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}d.inherits(P,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const yr=P.prototype,br={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{br[n]={value:n}});Object.defineProperties(P,br);Object.defineProperty(yr,"isAxiosError",{value:!0});P.from=(n,e,t,r,i,c)=>{const u=Object.create(yr);d.toFlatObject(n,u,function(m){return m!==Error.prototype},v=>v!=="isAxiosError");const f=n&&n.message?n.message:"Error",g=e==null&&n?n.code:e;return P.call(u,f,g,t,r,i),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",c&&Object.assign(u,c),u};const jo=null;function Ht(n){return d.isPlainObject(n)||d.isArray(n)}function vr(n){return d.endsWith(n,"[]")?n.slice(0,-2):n}function Fn(n,e,t){return n?n.concat(e).map(function(i,c){return i=vr(i),!t&&c?"["+i+"]":i}).join(t?".":""):e}function Fo(n){return d.isArray(n)&&!n.some(Ht)}const Ho=d.toFlatObject(d,{},null,function(e){return/^is[A-Z]/.test(e)});function gt(n,e,t){if(!d.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=d.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,p){return!d.isUndefined(p[w])});const r=t.metaTokens,i=t.visitor||m,c=t.dots,u=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(e);if(!d.isFunction(i))throw new TypeError("visitor must be a function");function v(b){if(b===null)return"";if(d.isDate(b))return b.toISOString();if(d.isBoolean(b))return b.toString();if(!g&&d.isBlob(b))throw new P("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(b)||d.isTypedArray(b)?g&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,w,p){let S=b;if(b&&!p&&typeof b=="object"){if(d.endsWith(w,"{}"))w=r?w:w.slice(0,-2),b=JSON.stringify(b);else if(d.isArray(b)&&Fo(b)||(d.isFileList(b)||d.endsWith(w,"[]"))&&(S=d.toArray(b)))return w=vr(w),S.forEach(function(O,B){!(d.isUndefined(O)||O===null)&&e.append(u===!0?Fn([w],B,c):u===null?w:w+"[]",v(O))}),!1}return Ht(b)?!0:(e.append(Fn(p,w,c),v(b)),!1)}const _=[],C=Object.assign(Ho,{defaultVisitor:m,convertValue:v,isVisitable:Ht});function R(b,w){if(!d.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));_.push(b),d.forEach(b,function(S,E){(!(d.isUndefined(S)||S===null)&&i.call(e,S,d.isString(E)?E.trim():E,w,C))===!0&&R(S,w?w.concat(E):[E])}),_.pop()}}if(!d.isObject(n))throw new TypeError("data must be an object");return R(n),e}function Hn(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Gt(n,e){this._pairs=[],n&&gt(n,this,e)}const wr=Gt.prototype;wr.append=function(e,t){this._pairs.push([e,t])};wr.toString=function(e){const t=e?function(r){return e.call(this,r,Hn)}:Hn;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Mo(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _r(n,e,t){if(!e)return n;const r=t&&t.encode||Mo;d.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let c;if(i?c=i(e,t):c=d.isURLSearchParams(e)?e.toString():new Gt(e,t).toString(r),c){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+c}return n}class zo{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){d.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Mn=zo,Sr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$o=typeof URLSearchParams<"u"?URLSearchParams:Gt,Vo=typeof FormData<"u"?FormData:null,Wo=typeof Blob<"u"?Blob:null,Jo={isBrowser:!0,classes:{URLSearchParams:$o,FormData:Vo,Blob:Wo},protocols:["http","https","file","blob","url","data"]},Zt=typeof window<"u"&&typeof document<"u",Mt=typeof navigator=="object"&&navigator||void 0,Xo=Zt&&(!Mt||["ReactNative","NativeScript","NS"].indexOf(Mt.product)<0),Ko=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Qo=Zt&&window.location.href||"http://localhost",Yo=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zt,hasStandardBrowserWebWorkerEnv:Ko,hasStandardBrowserEnv:Xo,navigator:Mt,origin:Qo},Symbol.toStringTag,{value:"Module"})),X={...Yo,...Jo};function Go(n,e){return gt(n,new X.classes.URLSearchParams,{visitor:function(t,r,i,c){return X.isNode&&d.isBuffer(t)?(this.append(r,t.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function Zo(n){return d.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ea(n){const e={},t=Object.keys(n);let r;const i=t.length;let c;for(r=0;r<i;r++)c=t[r],e[c]=n[c];return e}function kr(n){function e(t,r,i,c){let u=t[c++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),g=c>=t.length;return u=!u&&d.isArray(i)?i.length:u,g?(d.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!f):((!i[u]||!d.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],c)&&d.isArray(i[u])&&(i[u]=ea(i[u])),!f)}if(d.isFormData(n)&&d.isFunction(n.entries)){const t={};return d.forEachEntry(n,(r,i)=>{e(Zo(r),i,t,0)}),t}return null}function ta(n,e,t){if(d.isString(n))try{return(e||JSON.parse)(n),d.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const en={transitional:Sr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,c=d.isObject(e);if(c&&d.isHTMLForm(e)&&(e=new FormData(e)),d.isFormData(e))return i?JSON.stringify(kr(e)):e;if(d.isArrayBuffer(e)||d.isBuffer(e)||d.isStream(e)||d.isFile(e)||d.isBlob(e)||d.isReadableStream(e))return e;if(d.isArrayBufferView(e))return e.buffer;if(d.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Go(e,this.formSerializer).toString();if((f=d.isFileList(e))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return gt(f?{"files[]":e}:e,g&&new g,this.formSerializer)}}return c||i?(t.setContentType("application/json",!1),ta(e)):e}],transformResponse:[function(e){const t=this.transitional||en.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(d.isResponse(e)||d.isReadableStream(e))return e;if(e&&d.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?P.from(f,P.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X.classes.FormData,Blob:X.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],n=>{en.headers[n]={}});const tn=en,na=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ra=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&na[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},zn=Symbol("internals");function Ie(n){return n&&String(n).trim().toLowerCase()}function tt(n){return n===!1||n==null?n:d.isArray(n)?n.map(tt):String(n)}function sa(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const ia=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Bt(n,e,t,r,i){if(d.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!d.isString(e)){if(d.isString(r))return e.indexOf(r)!==-1;if(d.isRegExp(r))return r.test(e)}}function oa(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function aa(n,e){const t=d.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,c,u){return this[r].call(this,e,i,c,u)},configurable:!0})})}class mt{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function c(f,g,v){const m=Ie(g);if(!m)throw new Error("header name must be a non-empty string");const _=d.findKey(i,m);(!_||i[_]===void 0||v===!0||v===void 0&&i[_]!==!1)&&(i[_||g]=tt(f))}const u=(f,g)=>d.forEach(f,(v,m)=>c(v,m,g));if(d.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(d.isString(e)&&(e=e.trim())&&!ia(e))u(ra(e),t);else if(d.isObject(e)&&d.isIterable(e)){let f={},g,v;for(const m of e){if(!d.isArray(m))throw TypeError("Object iterator must return a key-value pair");f[v=m[0]]=(g=f[v])?d.isArray(g)?[...g,m[1]]:[g,m[1]]:m[1]}u(f,t)}else e!=null&&c(t,e,r);return this}get(e,t){if(e=Ie(e),e){const r=d.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return sa(i);if(d.isFunction(t))return t.call(this,i,r);if(d.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ie(e),e){const r=d.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Bt(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function c(u){if(u=Ie(u),u){const f=d.findKey(r,u);f&&(!t||Bt(r,r[f],f,t))&&(delete r[f],i=!0)}}return d.isArray(e)?e.forEach(c):c(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const c=t[r];(!e||Bt(this,this[c],c,e,!0))&&(delete this[c],i=!0)}return i}normalize(e){const t=this,r={};return d.forEach(this,(i,c)=>{const u=d.findKey(r,c);if(u){t[u]=tt(i),delete t[c];return}const f=e?oa(c):String(c).trim();f!==c&&delete t[c],t[f]=tt(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return d.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&d.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[zn]=this[zn]={accessors:{}}).accessors,i=this.prototype;function c(u){const f=Ie(u);r[f]||(aa(i,u),r[f]=!0)}return d.isArray(e)?e.forEach(c):c(e),this}}mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(mt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});d.freezeMethods(mt);const ie=mt;function It(n,e){const t=this||tn,r=e||t,i=ie.from(r.headers);let c=r.data;return d.forEach(n,function(f){c=f.call(t,c,i.normalize(),e?e.status:void 0)}),i.normalize(),c}function Cr(n){return!!(n&&n.__CANCEL__)}function Oe(n,e,t){P.call(this,n==null?"canceled":n,P.ERR_CANCELED,e,t),this.name="CanceledError"}d.inherits(Oe,P,{__CANCEL__:!0});function Tr(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new P("Request failed with status code "+t.status,[P.ERR_BAD_REQUEST,P.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ca(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ua(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,c=0,u;return e=e!==void 0?e:1e3,function(g){const v=Date.now(),m=r[c];u||(u=v),t[i]=g,r[i]=v;let _=c,C=0;for(;_!==i;)C+=t[_++],_=_%n;if(i=(i+1)%n,i===c&&(c=(c+1)%n),v-u<e)return;const R=m&&v-m;return R?Math.round(C*1e3/R):void 0}}function ha(n,e){let t=0,r=1e3/e,i,c;const u=(v,m=Date.now())=>{t=m,i=null,c&&(clearTimeout(c),c=null),n(...v)};return[(...v)=>{const m=Date.now(),_=m-t;_>=r?u(v,m):(i=v,c||(c=setTimeout(()=>{c=null,u(i)},r-_)))},()=>i&&u(i)]}const ct=(n,e,t=3)=>{let r=0;const i=ua(50,250);return ha(c=>{const u=c.loaded,f=c.lengthComputable?c.total:void 0,g=u-r,v=i(g),m=u<=f;r=u;const _={loaded:u,total:f,progress:f?u/f:void 0,bytes:g,rate:v||void 0,estimated:v&&f&&m?(f-u)/v:void 0,event:c,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(_)},t)},$n=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},Vn=n=>(...e)=>d.asap(()=>n(...e)),la=X.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,X.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(X.origin),X.navigator&&/(msie|trident)/i.test(X.navigator.userAgent)):()=>!0,fa=X.hasStandardBrowserEnv?{write(n,e,t,r,i,c,u){if(typeof document>"u")return;const f=[`${n}=${encodeURIComponent(e)}`];d.isNumber(t)&&f.push(`expires=${new Date(t).toUTCString()}`),d.isString(r)&&f.push(`path=${r}`),d.isString(i)&&f.push(`domain=${i}`),c===!0&&f.push("secure"),d.isString(u)&&f.push(`SameSite=${u}`),document.cookie=f.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function da(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function pa(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Er(n,e,t){let r=!da(e);return n&&(r||t==!1)?pa(n,e):e}const Wn=n=>n instanceof ie?{...n}:n;function ke(n,e){e=e||{};const t={};function r(v,m,_,C){return d.isPlainObject(v)&&d.isPlainObject(m)?d.merge.call({caseless:C},v,m):d.isPlainObject(m)?d.merge({},m):d.isArray(m)?m.slice():m}function i(v,m,_,C){if(d.isUndefined(m)){if(!d.isUndefined(v))return r(void 0,v,_,C)}else return r(v,m,_,C)}function c(v,m){if(!d.isUndefined(m))return r(void 0,m)}function u(v,m){if(d.isUndefined(m)){if(!d.isUndefined(v))return r(void 0,v)}else return r(void 0,m)}function f(v,m,_){if(_ in e)return r(v,m);if(_ in n)return r(void 0,v)}const g={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(v,m,_)=>i(Wn(v),Wn(m),_,!0)};return d.forEach(Object.keys({...n,...e}),function(m){const _=g[m]||i,C=_(n[m],e[m],m);d.isUndefined(C)&&_!==f||(t[m]=C)}),t}const Rr=n=>{const e=ke({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:c,headers:u,auth:f}=e;if(e.headers=u=ie.from(u),e.url=_r(Er(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),d.isFormData(t)){if(X.hasStandardBrowserEnv||X.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(d.isFunction(t.getHeaders)){const g=t.getHeaders(),v=["content-type","content-length"];Object.entries(g).forEach(([m,_])=>{v.includes(m.toLowerCase())&&u.set(m,_)})}}if(X.hasStandardBrowserEnv&&(r&&d.isFunction(r)&&(r=r(e)),r||r!==!1&&la(e.url))){const g=i&&c&&fa.read(c);g&&u.set(i,g)}return e},ga=typeof XMLHttpRequest<"u",ma=ga&&function(n){return new Promise(function(t,r){const i=Rr(n);let c=i.data;const u=ie.from(i.headers).normalize();let{responseType:f,onUploadProgress:g,onDownloadProgress:v}=i,m,_,C,R,b;function w(){R&&R(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let p=new XMLHttpRequest;p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout;function S(){if(!p)return;const O=ie.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),U={data:!f||f==="text"||f==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:O,config:n,request:p};Tr(function(q){t(q),w()},function(q){r(q),w()},U),p=null}"onloadend"in p?p.onloadend=S:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(S)},p.onabort=function(){!p||(r(new P("Request aborted",P.ECONNABORTED,n,p)),p=null)},p.onerror=function(B){const U=B&&B.message?B.message:"Network Error",M=new P(U,P.ERR_NETWORK,n,p);M.event=B||null,r(M),p=null},p.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||Sr;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),r(new P(B,U.clarifyTimeoutError?P.ETIMEDOUT:P.ECONNABORTED,n,p)),p=null},c===void 0&&u.setContentType(null),"setRequestHeader"in p&&d.forEach(u.toJSON(),function(B,U){p.setRequestHeader(U,B)}),d.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),f&&f!=="json"&&(p.responseType=i.responseType),v&&([C,b]=ct(v,!0),p.addEventListener("progress",C)),g&&p.upload&&([_,R]=ct(g),p.upload.addEventListener("progress",_),p.upload.addEventListener("loadend",R)),(i.cancelToken||i.signal)&&(m=O=>{!p||(r(!O||O.type?new Oe(null,n,p):O),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const E=ca(i.url);if(E&&X.protocols.indexOf(E)===-1){r(new P("Unsupported protocol "+E+":",P.ERR_BAD_REQUEST,n));return}p.send(c||null)})},ya=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const c=function(v){if(!i){i=!0,f();const m=v instanceof Error?v:this.reason;r.abort(m instanceof P?m:new Oe(m instanceof Error?m.message:m))}};let u=e&&setTimeout(()=>{u=null,c(new P(`timeout ${e} of ms exceeded`,P.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(c):v.removeEventListener("abort",c)}),n=null)};n.forEach(v=>v.addEventListener("abort",c));const{signal:g}=r;return g.unsubscribe=()=>d.asap(f),g}},ba=ya,va=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},wa=async function*(n,e){for await(const t of _a(n))yield*va(t,e)},_a=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Jn=(n,e,t,r)=>{const i=wa(n,e);let c=0,u,f=g=>{u||(u=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:v,value:m}=await i.next();if(v){f(),g.close();return}let _=m.byteLength;if(t){let C=c+=_;t(C)}g.enqueue(new Uint8Array(m))}catch(v){throw f(v),v}},cancel(g){return f(g),i.return()}},{highWaterMark:2})},Xn=64*1024,{isFunction:Ye}=d,Sa=(({Request:n,Response:e})=>({Request:n,Response:e}))(d.global),{ReadableStream:Kn,TextEncoder:Qn}=d.global,Yn=(n,...e)=>{try{return!!n(...e)}catch{return!1}},ka=n=>{n=d.merge.call({skipUndefined:!0},Sa,n);const{fetch:e,Request:t,Response:r}=n,i=e?Ye(e):typeof fetch=="function",c=Ye(t),u=Ye(r);if(!i)return!1;const f=i&&Ye(Kn),g=i&&(typeof Qn=="function"?(b=>w=>b.encode(w))(new Qn):async b=>new Uint8Array(await new t(b).arrayBuffer())),v=c&&f&&Yn(()=>{let b=!1;const w=new t(X.origin,{body:new Kn,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!w}),m=u&&f&&Yn(()=>d.isReadableStream(new r("").body)),_={stream:m&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!_[b]&&(_[b]=(w,p)=>{let S=w&&w[b];if(S)return S.call(w);throw new P(`Response type '${b}' is not supported`,P.ERR_NOT_SUPPORT,p)})});const C=async b=>{if(b==null)return 0;if(d.isBlob(b))return b.size;if(d.isSpecCompliantForm(b))return(await new t(X.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(d.isArrayBufferView(b)||d.isArrayBuffer(b))return b.byteLength;if(d.isURLSearchParams(b)&&(b=b+""),d.isString(b))return(await g(b)).byteLength},R=async(b,w)=>{const p=d.toFiniteNumber(b.getContentLength());return p==null?C(w):p};return async b=>{let{url:w,method:p,data:S,signal:E,cancelToken:O,timeout:B,onDownloadProgress:U,onUploadProgress:M,responseType:q,headers:J,withCredentials:K="same-origin",fetchOptions:re}=Rr(b),ze=e||fetch;q=q?(q+"").toLowerCase():"text";let ae=ba([E,O&&O.toAbortSignal()],B),ce=null;const pe=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let $e;try{if(M&&v&&p!=="get"&&p!=="head"&&($e=await R(J,S))!==0){let he=new t(w,{method:"POST",body:S,duplex:"half"}),Q;if(d.isFormData(S)&&(Q=he.headers.get("content-type"))&&J.setContentType(Q),he.body){const[Pe,Ce]=$n($e,ct(Vn(M)));S=Jn(he.body,Xn,Pe,Ce)}}d.isString(K)||(K=K?"include":"omit");const te=c&&"credentials"in t.prototype,Ve={...re,signal:ae,method:p.toUpperCase(),headers:J.normalize().toJSON(),body:S,duplex:"half",credentials:te?K:void 0};ce=c&&new t(w,Ve);let ue=await(c?ze(ce,re):ze(w,Ve));const Ae=m&&(q==="stream"||q==="response");if(m&&(U||Ae&&pe)){const he={};["status","statusText","headers"].forEach(z=>{he[z]=ue[z]});const Q=d.toFiniteNumber(ue.headers.get("content-length")),[Pe,Ce]=U&&$n(Q,ct(Vn(U),!0))||[];ue=new r(Jn(ue.body,Xn,Pe,()=>{Ce&&Ce(),pe&&pe()}),he)}q=q||"text";let wt=await _[d.findKey(_,q)||"text"](ue,b);return!Ae&&pe&&pe(),await new Promise((he,Q)=>{Tr(he,Q,{data:wt,headers:ie.from(ue.headers),status:ue.status,statusText:ue.statusText,config:b,request:ce})})}catch(te){throw pe&&pe(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new P("Network Error",P.ERR_NETWORK,b,ce),{cause:te.cause||te}):P.from(te,te&&te.code,b,ce)}}},Ca=new Map,Or=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:i}=e,c=[r,i,t];let u=c.length,f=u,g,v,m=Ca;for(;f--;)g=c[f],v=m.get(g),v===void 0&&m.set(g,v=f?new Map:ka(e)),m=v;return v};Or();const nn={http:jo,xhr:ma,fetch:{get:Or}};d.forEach(nn,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Gn=n=>`- ${n}`,Ta=n=>d.isFunction(n)||n===null||n===!1;function Ea(n,e){n=d.isArray(n)?n:[n];const{length:t}=n;let r,i;const c={};for(let u=0;u<t;u++){r=n[u];let f;if(i=r,!Ta(r)&&(i=nn[(f=String(r)).toLowerCase()],i===void 0))throw new P(`Unknown adapter '${f}'`);if(i&&(d.isFunction(i)||(i=i.get(e))))break;c[f||"#"+u]=i}if(!i){const u=Object.entries(c).map(([g,v])=>`adapter ${g} `+(v===!1?"is not supported by the environment":"is not available in the build"));let f=t?u.length>1?`since :
`+u.map(Gn).join(`
`):" "+Gn(u[0]):"as no adapter specified";throw new P("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return i}const xr={getAdapter:Ea,adapters:nn};function Ut(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Oe(null,n)}function Zn(n){return Ut(n),n.headers=ie.from(n.headers),n.data=It.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),xr.getAdapter(n.adapter||tn.adapter,n)(n).then(function(r){return Ut(n),r.data=It.call(n,n.transformResponse,r),r.headers=ie.from(r.headers),r},function(r){return Cr(r)||(Ut(n),r&&r.response&&(r.response.data=It.call(n,n.transformResponse,r.response),r.response.headers=ie.from(r.response.headers))),Promise.reject(r)})}const Ar="1.13.1",yt={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{yt[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const er={};yt.transitional=function(e,t,r){function i(c,u){return"[Axios v"+Ar+"] Transitional option '"+c+"'"+u+(r?". "+r:"")}return(c,u,f)=>{if(e===!1)throw new P(i(u," has been removed"+(t?" in "+t:"")),P.ERR_DEPRECATED);return t&&!er[u]&&(er[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(c,u,f):!0}};yt.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Ra(n,e,t){if(typeof n!="object")throw new P("options must be an object",P.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const c=r[i],u=e[c];if(u){const f=n[c],g=f===void 0||u(f,c,n);if(g!==!0)throw new P("option "+c+" must be "+g,P.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new P("Unknown option "+c,P.ERR_BAD_OPTION)}}const nt={assertOptions:Ra,validators:yt},le=nt.validators;class ut{constructor(e){this.defaults=e||{},this.interceptors={request:new Mn,response:new Mn}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const c=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?c&&!String(r.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+c):r.stack=c}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ke(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:c}=t;r!==void 0&&nt.assertOptions(r,{silentJSONParsing:le.transitional(le.boolean),forcedJSONParsing:le.transitional(le.boolean),clarifyTimeoutError:le.transitional(le.boolean)},!1),i!=null&&(d.isFunction(i)?t.paramsSerializer={serialize:i}:nt.assertOptions(i,{encode:le.function,serialize:le.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),nt.assertOptions(t,{baseUrl:le.spelling("baseURL"),withXsrfToken:le.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=c&&d.merge(c.common,c[t.method]);c&&d.forEach(["delete","get","head","post","put","patch","common"],b=>{delete c[b]}),t.headers=ie.concat(u,c);const f=[];let g=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(g=g&&w.synchronous,f.unshift(w.fulfilled,w.rejected))});const v=[];this.interceptors.response.forEach(function(w){v.push(w.fulfilled,w.rejected)});let m,_=0,C;if(!g){const b=[Zn.bind(this),void 0];for(b.unshift(...f),b.push(...v),C=b.length,m=Promise.resolve(t);_<C;)m=m.then(b[_++],b[_++]);return m}C=f.length;let R=t;for(;_<C;){const b=f[_++],w=f[_++];try{R=b(R)}catch(p){w.call(this,p);break}}try{m=Zn.call(this,R)}catch(b){return Promise.reject(b)}for(_=0,C=v.length;_<C;)m=m.then(v[_++],v[_++]);return m}getUri(e){e=ke(this.defaults,e);const t=Er(e.baseURL,e.url,e.allowAbsoluteUrls);return _r(t,e.params,e.paramsSerializer)}}d.forEach(["delete","get","head","options"],function(e){ut.prototype[e]=function(t,r){return this.request(ke(r||{},{method:e,url:t,data:(r||{}).data}))}});d.forEach(["post","put","patch"],function(e){function t(r){return function(c,u,f){return this.request(ke(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}ut.prototype[e]=t(),ut.prototype[e+"Form"]=t(!0)});const rt=ut;class rn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(c){t=c});const r=this;this.promise.then(i=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](i);r._listeners=null}),this.promise.then=i=>{let c;const u=new Promise(f=>{r.subscribe(f),c=f}).then(i);return u.cancel=function(){r.unsubscribe(c)},u},e(function(c,u,f){r.reason||(r.reason=new Oe(c,u,f),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new rn(function(i){e=i}),cancel:e}}}const Oa=rn;function xa(n){return function(t){return n.apply(null,t)}}function Aa(n){return d.isObject(n)&&n.isAxiosError===!0}const zt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zt).forEach(([n,e])=>{zt[e]=n});const Pa=zt;function Pr(n){const e=new rt(n),t=ur(rt.prototype.request,e);return d.extend(t,rt.prototype,e,{allOwnKeys:!0}),d.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Pr(ke(n,i))},t}const H=Pr(tn);H.Axios=rt;H.CanceledError=Oe;H.CancelToken=Oa;H.isCancel=Cr;H.VERSION=Ar;H.toFormData=gt;H.AxiosError=P;H.Cancel=H.CanceledError;H.all=function(e){return Promise.all(e)};H.spread=xa;H.isAxiosError=Aa;H.mergeConfig=ke;H.AxiosHeaders=ie;H.formToJSON=n=>kr(d.isHTMLForm(n)?new FormData(n):n);H.getAdapter=xr.getAdapter;H.HttpStatusCode=Pa;H.default=H;const La=H;function qe(n){return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(n)}function $(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function tr(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function V(n,e,t){return e&&tr(n.prototype,e),t&&tr(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function je(){return je=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},je.apply(this,arguments)}function Z(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$t(n,e)}function ht(n){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ht(n)}function $t(n,e){return $t=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},$t(n,e)}function Na(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ba(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ia(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ba(n)}function ee(n){var e=Na();return function(){var r=ht(n),i;if(e){var c=ht(this).constructor;i=Reflect.construct(r,arguments,c)}else i=r.apply(this,arguments);return Ia(this,i)}}var sn=function(){function n(){$(this,n)}return V(n,[{key:"listenForWhisper",value:function(t,r){return this.listen(".client-"+t,r)}},{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}},{key:"stopListeningForWhisper",value:function(t,r){return this.stopListening(".client-"+t,r)}}]),n}(),Lr=function(){function n(e){$(this,n),this.namespace=e}return V(n,[{key:"format",value:function(t){return[".","\\"].includes(t.charAt(0))?t.substring(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),n}();function Ua(n){try{new n}catch(e){if(e.message.includes("is not a constructor"))return!1}return!0}var on=function(n){Z(t,n);var e=ee(t);function t(r,i,c){var u;return $(this,t),u=e.call(this),u.name=i,u.pusher=r,u.options=c,u.eventFormatter=new Lr(u.options.namespace),u.subscribe(),u}return V(t,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(i,c){return this.on(this.eventFormatter.format(i),c),this}},{key:"listenToAll",value:function(i){var c=this;return this.subscription.bind_global(function(u,f){if(!u.startsWith("pusher:")){var g=c.options.namespace.replace(/\./g,"\\"),v=u.startsWith(g)?u.substring(g.length+1):"."+u;i(v,f)}}),this}},{key:"stopListening",value:function(i,c){return c?this.subscription.unbind(this.eventFormatter.format(i),c):this.subscription.unbind(this.eventFormatter.format(i)),this}},{key:"stopListeningToAll",value:function(i){return i?this.subscription.unbind_global(i):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(i){return this.on("pusher:subscription_succeeded",function(){i()}),this}},{key:"error",value:function(i){return this.on("pusher:subscription_error",function(c){i(c)}),this}},{key:"on",value:function(i,c){return this.subscription.bind(i,c),this}}]),t}(sn),Nr=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"whisper",value:function(i,c){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),c),this}}]),t}(on),Da=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"whisper",value:function(i,c){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),c),this}}]),t}(on),qa=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"here",value:function(i){return this.on("pusher:subscription_succeeded",function(c){i(Object.keys(c.members).map(function(u){return c.members[u]}))}),this}},{key:"joining",value:function(i){return this.on("pusher:member_added",function(c){i(c.info)}),this}},{key:"whisper",value:function(i,c){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),c),this}},{key:"leaving",value:function(i){return this.on("pusher:member_removed",function(c){i(c.info)}),this}}]),t}(Nr),Br=function(n){Z(t,n);var e=ee(t);function t(r,i,c){var u;return $(this,t),u=e.call(this),u.events={},u.listeners={},u.name=i,u.socket=r,u.options=c,u.eventFormatter=new Lr(u.options.namespace),u.subscribe(),u}return V(t,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(i,c){return this.on(this.eventFormatter.format(i),c),this}},{key:"stopListening",value:function(i,c){return this.unbindEvent(this.eventFormatter.format(i),c),this}},{key:"subscribed",value:function(i){return this.on("connect",function(c){i(c)}),this}},{key:"error",value:function(i){return this}},{key:"on",value:function(i,c){var u=this;return this.listeners[i]=this.listeners[i]||[],this.events[i]||(this.events[i]=function(f,g){u.name===f&&u.listeners[i]&&u.listeners[i].forEach(function(v){return v(g)})},this.socket.on(i,this.events[i])),this.listeners[i].push(c),this}},{key:"unbind",value:function(){var i=this;Object.keys(this.events).forEach(function(c){i.unbindEvent(c)})}},{key:"unbindEvent",value:function(i,c){this.listeners[i]=this.listeners[i]||[],c&&(this.listeners[i]=this.listeners[i].filter(function(u){return u!==c})),(!c||this.listeners[i].length===0)&&(this.events[i]&&(this.socket.removeListener(i,this.events[i]),delete this.events[i]),delete this.listeners[i])}}]),t}(sn),Ir=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"whisper",value:function(i,c){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(i),data:c}),this}}]),t}(Br),ja=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"here",value:function(i){return this.on("presence:subscribed",function(c){i(c.map(function(u){return u.user_info}))}),this}},{key:"joining",value:function(i){return this.on("presence:joining",function(c){return i(c.user_info)}),this}},{key:"whisper",value:function(i,c){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(i),data:c}),this}},{key:"leaving",value:function(i){return this.on("presence:leaving",function(c){return i(c.user_info)}),this}}]),t}(Ir),lt=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(i,c){return this}},{key:"listenToAll",value:function(i){return this}},{key:"stopListening",value:function(i,c){return this}},{key:"subscribed",value:function(i){return this}},{key:"error",value:function(i){return this}},{key:"on",value:function(i,c){return this}}]),t}(sn),Ur=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"whisper",value:function(i,c){return this}}]),t}(lt),Fa=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"whisper",value:function(i,c){return this}}]),t}(lt),Ha=function(n){Z(t,n);var e=ee(t);function t(){return $(this,t),e.apply(this,arguments)}return V(t,[{key:"here",value:function(i){return this}},{key:"joining",value:function(i){return this}},{key:"whisper",value:function(i,c){return this}},{key:"leaving",value:function(i){return this}}]),t}(Ur),an=function(){function n(e){$(this,n),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return V(n,[{key:"setOptions",value:function(t){this.options=je(this._defaultOptions,t);var r=this.csrfToken();return r&&(this.options.auth.headers["X-CSRF-TOKEN"]=r,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=r),r=this.options.bearerToken,r&&(this.options.auth.headers.Authorization="Bearer "+r,this.options.userAuthentication.headers.Authorization="Bearer "+r),t}},{key:"csrfToken",value:function(){var t;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),n}(),nr=function(n){Z(t,n);var e=ee(t);function t(){var r;return $(this,t),r=e.apply(this,arguments),r.channels={},r}return V(t,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(i,c,u){return this.channel(i).listen(c,u)}},{key:"channel",value:function(i){return this.channels[i]||(this.channels[i]=new on(this.pusher,i,this.options)),this.channels[i]}},{key:"privateChannel",value:function(i){return this.channels["private-"+i]||(this.channels["private-"+i]=new Nr(this.pusher,"private-"+i,this.options)),this.channels["private-"+i]}},{key:"encryptedPrivateChannel",value:function(i){return this.channels["private-encrypted-"+i]||(this.channels["private-encrypted-"+i]=new Da(this.pusher,"private-encrypted-"+i,this.options)),this.channels["private-encrypted-"+i]}},{key:"presenceChannel",value:function(i){return this.channels["presence-"+i]||(this.channels["presence-"+i]=new qa(this.pusher,"presence-"+i,this.options)),this.channels["presence-"+i]}},{key:"leave",value:function(i){var c=this,u=[i,"private-"+i,"private-encrypted-"+i,"presence-"+i];u.forEach(function(f,g){c.leaveChannel(f)})}},{key:"leaveChannel",value:function(i){this.channels[i]&&(this.channels[i].unsubscribe(),delete this.channels[i])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),t}(an),rr=function(n){Z(t,n);var e=ee(t);function t(){var r;return $(this,t),r=e.apply(this,arguments),r.channels={},r}return V(t,[{key:"connect",value:function(){var i=this,c=this.getSocketIO();return this.socket=c(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(i.channels).forEach(function(u){u.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(i,c,u){return this.channel(i).listen(c,u)}},{key:"channel",value:function(i){return this.channels[i]||(this.channels[i]=new Br(this.socket,i,this.options)),this.channels[i]}},{key:"privateChannel",value:function(i){return this.channels["private-"+i]||(this.channels["private-"+i]=new Ir(this.socket,"private-"+i,this.options)),this.channels["private-"+i]}},{key:"presenceChannel",value:function(i){return this.channels["presence-"+i]||(this.channels["presence-"+i]=new ja(this.socket,"presence-"+i,this.options)),this.channels["presence-"+i]}},{key:"leave",value:function(i){var c=this,u=[i,"private-"+i,"presence-"+i];u.forEach(function(f){c.leaveChannel(f)})}},{key:"leaveChannel",value:function(i){this.channels[i]&&(this.channels[i].unsubscribe(),delete this.channels[i])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),t}(an),Ma=function(n){Z(t,n);var e=ee(t);function t(){var r;return $(this,t),r=e.apply(this,arguments),r.channels={},r}return V(t,[{key:"connect",value:function(){}},{key:"listen",value:function(i,c,u){return new lt}},{key:"channel",value:function(i){return new lt}},{key:"privateChannel",value:function(i){return new Ur}},{key:"encryptedPrivateChannel",value:function(i){return new Fa}},{key:"presenceChannel",value:function(i){return new Ha}},{key:"leave",value:function(i){}},{key:"leaveChannel",value:function(i){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),t}(an),Dr=function(){function n(e){$(this,n),this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return V(n,[{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"connect",value:function(){if(this.options.broadcaster=="reverb")this.connector=new nr(je(je({},this.options),{cluster:""}));else if(this.options.broadcaster=="pusher")this.connector=new nr(this.options);else if(this.options.broadcaster=="socket.io")this.connector=new rr(this.options);else if(this.options.broadcaster=="null")this.connector=new Ma(this.options);else if(typeof this.options.broadcaster=="function"&&Ua(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(qe(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"leaveChannel",value:function(t){this.connector.leaveChannel(t)}},{key:"leaveAllChannels",value:function(){for(var t in this.connector.channels)this.leaveChannel(t)}},{key:"listen",value:function(t,r,i){return this.connector.listen(t,r,i)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"encryptedPrivate",value:function(t){if(this.connector instanceof rr)throw new Error("Broadcaster ".concat(qe(this.options.broadcaster)," ").concat(this.options.broadcaster," does not support encrypted private channels."));return this.connector.encryptedPrivateChannel(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":qe(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push(function(r,i){t.socketId()&&r.headers.set("X-Socket-ID",t.socketId()),i()})}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use(function(r){return t.socketId()&&(r.headers["X-Socket-Id"]=t.socketId()),r})}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(r,i,c){t.socketId()&&c.setRequestHeader("X-Socket-Id",t.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var t=this;document.addEventListener("turbo:before-fetch-request",function(r){r.detail.fetchOptions.headers["X-Socket-Id"]=t.socketId()})}}]),n}();function za(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qr={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(n,e){(function(r,i){n.exports=i()})(window,function(){return function(t){var r={};function i(c){if(r[c])return r[c].exports;var u=r[c]={i:c,l:!1,exports:{}};return t[c].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=t,i.c=r,i.d=function(c,u,f){i.o(c,u)||Object.defineProperty(c,u,{enumerable:!0,get:f})},i.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},i.t=function(c,u){if(u&1&&(c=i(c)),u&8||u&4&&typeof c=="object"&&c&&c.__esModule)return c;var f=Object.create(null);if(i.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:c}),u&2&&typeof c!="string")for(var g in c)i.d(f,g,function(v){return c[v]}.bind(null,g));return f},i.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return i.d(u,"a",u),u},i.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},i.p="",i(i.s=2)}([function(t,r,i){var c=this&&this.__extends||function(){var w=function(p,S){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,O){E.__proto__=O}||function(E,O){for(var B in O)O.hasOwnProperty(B)&&(E[B]=O[B])},w(p,S)};return function(p,S){w(p,S);function E(){this.constructor=p}p.prototype=S===null?Object.create(S):(E.prototype=S.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var u=256,f=function(){function w(p){p===void 0&&(p="="),this._paddingCharacter=p}return w.prototype.encodedLength=function(p){return this._paddingCharacter?(p+2)/3*4|0:(p*8+5)/6|0},w.prototype.encode=function(p){for(var S="",E=0;E<p.length-2;E+=3){var O=p[E]<<16|p[E+1]<<8|p[E+2];S+=this._encodeByte(O>>>3*6&63),S+=this._encodeByte(O>>>2*6&63),S+=this._encodeByte(O>>>1*6&63),S+=this._encodeByte(O>>>0*6&63)}var B=p.length-E;if(B>0){var O=p[E]<<16|(B===2?p[E+1]<<8:0);S+=this._encodeByte(O>>>3*6&63),S+=this._encodeByte(O>>>2*6&63),B===2?S+=this._encodeByte(O>>>1*6&63):S+=this._paddingCharacter||"",S+=this._paddingCharacter||""}return S},w.prototype.maxDecodedLength=function(p){return this._paddingCharacter?p/4*3|0:(p*6+7)/8|0},w.prototype.decodedLength=function(p){return this.maxDecodedLength(p.length-this._getPaddingLength(p))},w.prototype.decode=function(p){if(p.length===0)return new Uint8Array(0);for(var S=this._getPaddingLength(p),E=p.length-S,O=new Uint8Array(this.maxDecodedLength(E)),B=0,U=0,M=0,q=0,J=0,K=0,re=0;U<E-4;U+=4)q=this._decodeChar(p.charCodeAt(U+0)),J=this._decodeChar(p.charCodeAt(U+1)),K=this._decodeChar(p.charCodeAt(U+2)),re=this._decodeChar(p.charCodeAt(U+3)),O[B++]=q<<2|J>>>4,O[B++]=J<<4|K>>>2,O[B++]=K<<6|re,M|=q&u,M|=J&u,M|=K&u,M|=re&u;if(U<E-1&&(q=this._decodeChar(p.charCodeAt(U)),J=this._decodeChar(p.charCodeAt(U+1)),O[B++]=q<<2|J>>>4,M|=q&u,M|=J&u),U<E-2&&(K=this._decodeChar(p.charCodeAt(U+2)),O[B++]=J<<4|K>>>2,M|=K&u),U<E-3&&(re=this._decodeChar(p.charCodeAt(U+3)),O[B++]=K<<6|re,M|=re&u),M!==0)throw new Error("Base64Coder: incorrect characters for decoding");return O},w.prototype._encodeByte=function(p){var S=p;return S+=65,S+=25-p>>>8&0-65-26+97,S+=51-p>>>8&26-97-52+48,S+=61-p>>>8&52-48-62+43,S+=62-p>>>8&62-43-63+47,String.fromCharCode(S)},w.prototype._decodeChar=function(p){var S=u;return S+=(42-p&p-44)>>>8&-u+p-43+62,S+=(46-p&p-48)>>>8&-u+p-47+63,S+=(47-p&p-58)>>>8&-u+p-48+52,S+=(64-p&p-91)>>>8&-u+p-65+0,S+=(96-p&p-123)>>>8&-u+p-97+26,S},w.prototype._getPaddingLength=function(p){var S=0;if(this._paddingCharacter){for(var E=p.length-1;E>=0&&p[E]===this._paddingCharacter;E--)S++;if(p.length<4||S>2)throw new Error("Base64Coder: incorrect padding")}return S},w}();r.Coder=f;var g=new f;function v(w){return g.encode(w)}r.encode=v;function m(w){return g.decode(w)}r.decode=m;var _=function(w){c(p,w);function p(){return w!==null&&w.apply(this,arguments)||this}return p.prototype._encodeByte=function(S){var E=S;return E+=65,E+=25-S>>>8&0-65-26+97,E+=51-S>>>8&26-97-52+48,E+=61-S>>>8&52-48-62+45,E+=62-S>>>8&62-45-63+95,String.fromCharCode(E)},p.prototype._decodeChar=function(S){var E=u;return E+=(44-S&S-46)>>>8&-u+S-45+62,E+=(94-S&S-96)>>>8&-u+S-95+63,E+=(47-S&S-58)>>>8&-u+S-48+52,E+=(64-S&S-91)>>>8&-u+S-65+0,E+=(96-S&S-123)>>>8&-u+S-97+26,E},p}(f);r.URLSafeCoder=_;var C=new _;function R(w){return C.encode(w)}r.encodeURLSafe=R;function b(w){return C.decode(w)}r.decodeURLSafe=b,r.encodedLength=function(w){return g.encodedLength(w)},r.maxDecodedLength=function(w){return g.maxDecodedLength(w)},r.decodedLength=function(w){return g.decodedLength(w)}},function(t,r,i){Object.defineProperty(r,"__esModule",{value:!0});var c="utf8: invalid string",u="utf8: invalid source encoding";function f(m){for(var _=new Uint8Array(g(m)),C=0,R=0;R<m.length;R++){var b=m.charCodeAt(R);b<128?_[C++]=b:b<2048?(_[C++]=192|b>>6,_[C++]=128|b&63):b<55296?(_[C++]=224|b>>12,_[C++]=128|b>>6&63,_[C++]=128|b&63):(R++,b=(b&1023)<<10,b|=m.charCodeAt(R)&1023,b+=65536,_[C++]=240|b>>18,_[C++]=128|b>>12&63,_[C++]=128|b>>6&63,_[C++]=128|b&63)}return _}r.encode=f;function g(m){for(var _=0,C=0;C<m.length;C++){var R=m.charCodeAt(C);if(R<128)_+=1;else if(R<2048)_+=2;else if(R<55296)_+=3;else if(R<=57343){if(C>=m.length-1)throw new Error(c);C++,_+=4}else throw new Error(c)}return _}r.encodedLength=g;function v(m){for(var _=[],C=0;C<m.length;C++){var R=m[C];if(R&128){var b=void 0;if(R<224){if(C>=m.length)throw new Error(u);var w=m[++C];if((w&192)!==128)throw new Error(u);R=(R&31)<<6|w&63,b=128}else if(R<240){if(C>=m.length-1)throw new Error(u);var w=m[++C],p=m[++C];if((w&192)!==128||(p&192)!==128)throw new Error(u);R=(R&15)<<12|(w&63)<<6|p&63,b=2048}else if(R<248){if(C>=m.length-2)throw new Error(u);var w=m[++C],p=m[++C],S=m[++C];if((w&192)!==128||(p&192)!==128||(S&192)!==128)throw new Error(u);R=(R&15)<<18|(w&63)<<12|(p&63)<<6|S&63,b=65536}else throw new Error(u);if(R<b||R>=55296&&R<=57343)throw new Error(u);if(R>=65536){if(R>1114111)throw new Error(u);R-=65536,_.push(String.fromCharCode(55296|R>>10)),R=56320|R&1023}}_.push(String.fromCharCode(R))}return _.join("")}r.decode=v},function(t,r,i){t.exports=i(3).default},function(t,r,i){i.r(r);class c{constructor(s,o){this.lastId=0,this.prefix=s,this.name=o}create(s){this.lastId++;var o=this.lastId,h=this.prefix+o,l=this.name+"["+o+"]",y=!1,k=function(){y||(s.apply(null,arguments),y=!0)};return this[o]=k,{number:o,id:h,name:l,callback:k}}remove(s){delete this[s.number]}}var u=new c("_pusher_script_","Pusher.ScriptReceivers"),f={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},g=f;class v{constructor(s){this.options=s,this.receivers=s.receivers||u,this.loading={}}load(s,o,h){var l=this;if(l.loading[s]&&l.loading[s].length>0)l.loading[s].push(h);else{l.loading[s]=[h];var y=A.createScriptRequest(l.getPath(s,o)),k=l.receivers.create(function(T){if(l.receivers.remove(k),l.loading[s]){var x=l.loading[s];delete l.loading[s];for(var N=function(j){j||y.cleanup()},I=0;I<x.length;I++)x[I](T,N)}});y.send(k)}}getRoot(s){var o,h=A.getDocument().location.protocol;return s&&s.useTLS||h==="https:"?o=this.options.cdn_https:o=this.options.cdn_http,o.replace(/\/*$/,"")+"/"+this.options.version}getPath(s,o){return this.getRoot(o)+"/"+s+this.options.suffix+".js"}}var m=new c("_pusher_dependencies","Pusher.DependenciesReceivers"),_=new v({cdn_http:g.cdn_http,cdn_https:g.cdn_https,version:g.VERSION,suffix:g.dependency_suffix,receivers:m});const C={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var b={buildLogSuffix:function(a){const s="See:",o=C.urls[a];if(!o)return"";let h;return o.fullUrl?h=o.fullUrl:o.path&&(h=C.baseUrl+o.path),h?`${s} ${h}`:""}},w;(function(a){a.UserAuthentication="user-authentication",a.ChannelAuthorization="channel-authorization"})(w||(w={}));class p extends Error{constructor(s){super(s),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(s){super(s),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(s){super(s),Object.setPrototypeOf(this,new.target.prototype)}}class O extends Error{constructor(s){super(s),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor(s){super(s),Object.setPrototypeOf(this,new.target.prototype)}}class U extends Error{constructor(s){super(s),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor(s){super(s),Object.setPrototypeOf(this,new.target.prototype)}}class q extends Error{constructor(s){super(s),Object.setPrototypeOf(this,new.target.prototype)}}class J extends Error{constructor(s,o){super(o),this.status=s,Object.setPrototypeOf(this,new.target.prototype)}}var re=function(a,s,o,h,l){const y=A.createXHR();y.open("POST",o.endpoint,!0),y.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var k in o.headers)y.setRequestHeader(k,o.headers[k]);if(o.headersProvider!=null){let T=o.headersProvider();for(var k in T)y.setRequestHeader(k,T[k])}return y.onreadystatechange=function(){if(y.readyState===4)if(y.status===200){let T,x=!1;try{T=JSON.parse(y.responseText),x=!0}catch{l(new J(200,`JSON returned from ${h.toString()} endpoint was invalid, yet status code was 200. Data was: ${y.responseText}`),null)}x&&l(null,T)}else{let T="";switch(h){case w.UserAuthentication:T=b.buildLogSuffix("authenticationEndpoint");break;case w.ChannelAuthorization:T=`Clients must be authorized to join private or presence channels. ${b.buildLogSuffix("authorizationEndpoint")}`;break}l(new J(y.status,`Unable to retrieve auth string from ${h.toString()} endpoint - received status: ${y.status} from ${o.endpoint}. ${T}`),null)}},y.send(s),y};function ze(a){return Ve($e(a))}var ae=String.fromCharCode,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pe=function(a){var s=a.charCodeAt(0);return s<128?a:s<2048?ae(192|s>>>6)+ae(128|s&63):ae(224|s>>>12&15)+ae(128|s>>>6&63)+ae(128|s&63)},$e=function(a){return a.replace(/[^\x00-\x7F]/g,pe)},te=function(a){var s=[0,2,1][a.length%3],o=a.charCodeAt(0)<<16|(a.length>1?a.charCodeAt(1):0)<<8|(a.length>2?a.charCodeAt(2):0),h=[ce.charAt(o>>>18),ce.charAt(o>>>12&63),s>=2?"=":ce.charAt(o>>>6&63),s>=1?"=":ce.charAt(o&63)];return h.join("")},Ve=window.btoa||function(a){return a.replace(/[\s\S]{1,3}/g,te)};class ue{constructor(s,o,h,l){this.clear=o,this.timer=s(()=>{this.timer&&(this.timer=l(this.timer))},h)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Ae=ue;function wt(a){window.clearTimeout(a)}function he(a){window.clearInterval(a)}class Q extends Ae{constructor(s,o){super(setTimeout,wt,s,function(h){return o(),null})}}class Pe extends Ae{constructor(s,o){super(setInterval,he,s,function(h){return o(),h})}}var Ce={now(){return Date.now?Date.now():new Date().valueOf()},defer(a){return new Q(0,a)},method(a,...s){var o=Array.prototype.slice.call(arguments,1);return function(h){return h[a].apply(h,o.concat(arguments))}}},z=Ce;function Y(a,...s){for(var o=0;o<s.length;o++){var h=s[o];for(var l in h)h[l]&&h[l].constructor&&h[l].constructor===Object?a[l]=Y(a[l]||{},h[l]):a[l]=h[l]}return a}function Gr(){for(var a=["Pusher"],s=0;s<arguments.length;s++)typeof arguments[s]=="string"?a.push(arguments[s]):a.push(We(arguments[s]));return a.join(" : ")}function dn(a,s){var o=Array.prototype.indexOf;if(a===null)return-1;if(o&&a.indexOf===o)return a.indexOf(s);for(var h=0,l=a.length;h<l;h++)if(a[h]===s)return h;return-1}function ge(a,s){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&s(a[o],o,a)}function pn(a){var s=[];return ge(a,function(o,h){s.push(h)}),s}function Zr(a){var s=[];return ge(a,function(o){s.push(o)}),s}function Le(a,s,o){for(var h=0;h<a.length;h++)s.call(o||window,a[h],h,a)}function gn(a,s){for(var o=[],h=0;h<a.length;h++)o.push(s(a[h],h,a,o));return o}function es(a,s){var o={};return ge(a,function(h,l){o[l]=s(h)}),o}function mn(a,s){s=s||function(l){return!!l};for(var o=[],h=0;h<a.length;h++)s(a[h],h,a,o)&&o.push(a[h]);return o}function yn(a,s){var o={};return ge(a,function(h,l){(s&&s(h,l,a,o)||Boolean(h))&&(o[l]=h)}),o}function ts(a){var s=[];return ge(a,function(o,h){s.push([h,o])}),s}function bn(a,s){for(var o=0;o<a.length;o++)if(s(a[o],o,a))return!0;return!1}function ns(a,s){for(var o=0;o<a.length;o++)if(!s(a[o],o,a))return!1;return!0}function rs(a){return es(a,function(s){return typeof s=="object"&&(s=We(s)),encodeURIComponent(ze(s.toString()))})}function ss(a){var s=yn(a,function(h){return h!==void 0}),o=gn(ts(rs(s)),z.method("join","=")).join("&");return o}function is(a){var s=[],o=[];return function h(l,y){var k,T,x;switch(typeof l){case"object":if(!l)return null;for(k=0;k<s.length;k+=1)if(s[k]===l)return{$ref:o[k]};if(s.push(l),o.push(y),Object.prototype.toString.apply(l)==="[object Array]")for(x=[],k=0;k<l.length;k+=1)x[k]=h(l[k],y+"["+k+"]");else{x={};for(T in l)Object.prototype.hasOwnProperty.call(l,T)&&(x[T]=h(l[T],y+"["+JSON.stringify(T)+"]"))}return x;case"number":case"string":case"boolean":return l}}(a,"$")}function We(a){try{return JSON.stringify(a)}catch{return JSON.stringify(is(a))}}class os{constructor(){this.globalLog=s=>{window.console&&window.console.log&&window.console.log(s)}}debug(...s){this.log(this.globalLog,s)}warn(...s){this.log(this.globalLogWarn,s)}error(...s){this.log(this.globalLogError,s)}globalLogWarn(s){window.console&&window.console.warn?window.console.warn(s):this.globalLog(s)}globalLogError(s){window.console&&window.console.error?window.console.error(s):this.globalLogWarn(s)}log(s,...o){var h=Gr.apply(this,arguments);Pt.log?Pt.log(h):Pt.logToConsole&&s.bind(this)(h)}}var D=new os,as=function(a,s,o,h,l){(o.headers!==void 0||o.headersProvider!=null)&&D.warn(`To send headers with the ${h.toString()} request, you must use AJAX, rather than JSONP.`);var y=a.nextAuthCallbackID.toString();a.nextAuthCallbackID++;var k=a.getDocument(),T=k.createElement("script");a.auth_callbacks[y]=function(I){l(null,I)};var x="Pusher.auth_callbacks['"+y+"']";T.src=o.endpoint+"?callback="+encodeURIComponent(x)+"&"+s;var N=k.getElementsByTagName("head")[0]||k.documentElement;N.insertBefore(T,N.firstChild)},cs=as;class us{constructor(s){this.src=s}send(s){var o=this,h="Error loading "+o.src;o.script=document.createElement("script"),o.script.id=s.id,o.script.src=o.src,o.script.type="text/javascript",o.script.charset="UTF-8",o.script.addEventListener?(o.script.onerror=function(){s.callback(h)},o.script.onload=function(){s.callback(null)}):o.script.onreadystatechange=function(){(o.script.readyState==="loaded"||o.script.readyState==="complete")&&s.callback(null)},o.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(o.errorScript=document.createElement("script"),o.errorScript.id=s.id+"_error",o.errorScript.text=s.name+"('"+h+"');",o.script.async=o.errorScript.async=!1):o.script.async=!0;var l=document.getElementsByTagName("head")[0];l.insertBefore(o.script,l.firstChild),o.errorScript&&l.insertBefore(o.errorScript,o.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class hs{constructor(s,o){this.url=s,this.data=o}send(s){if(!this.request){var o=ss(this.data),h=this.url+"/"+s.number+"?"+o;this.request=A.createScriptRequest(h),this.request.send(s)}}cleanup(){this.request&&this.request.cleanup()}}var ls=function(a,s){return function(o,h){var l="http"+(s?"s":"")+"://",y=l+(a.host||a.options.host)+a.options.path,k=A.createJSONPRequest(y,o),T=A.ScriptReceivers.create(function(x,N){u.remove(T),k.cleanup(),N&&N.host&&(a.host=N.host),h&&h(x,N)});k.send(T)}},fs={name:"jsonp",getAgent:ls},ds=fs;function _t(a,s,o){var h=a+(s.useTLS?"s":""),l=s.useTLS?s.hostTLS:s.hostNonTLS;return h+"://"+l+o}function St(a,s){var o="/app/"+a,h="?protocol="+g.PROTOCOL+"&client=js&version="+g.VERSION+(s?"&"+s:"");return o+h}var ps={getInitial:function(a,s){var o=(s.httpPath||"")+St(a,"flash=false");return _t("ws",s,o)}},gs={getInitial:function(a,s){var o=(s.httpPath||"/pusher")+St(a);return _t("http",s,o)}},ms={getInitial:function(a,s){return _t("http",s,s.httpPath||"/pusher")},getPath:function(a,s){return St(a)}};class ys{constructor(){this._callbacks={}}get(s){return this._callbacks[kt(s)]}add(s,o,h){var l=kt(s);this._callbacks[l]=this._callbacks[l]||[],this._callbacks[l].push({fn:o,context:h})}remove(s,o,h){if(!s&&!o&&!h){this._callbacks={};return}var l=s?[kt(s)]:pn(this._callbacks);o||h?this.removeCallback(l,o,h):this.removeAllCallbacks(l)}removeCallback(s,o,h){Le(s,function(l){this._callbacks[l]=mn(this._callbacks[l]||[],function(y){return o&&o!==y.fn||h&&h!==y.context}),this._callbacks[l].length===0&&delete this._callbacks[l]},this)}removeAllCallbacks(s){Le(s,function(o){delete this._callbacks[o]},this)}}function kt(a){return"_"+a}class me{constructor(s){this.callbacks=new ys,this.global_callbacks=[],this.failThrough=s}bind(s,o,h){return this.callbacks.add(s,o,h),this}bind_global(s){return this.global_callbacks.push(s),this}unbind(s,o,h){return this.callbacks.remove(s,o,h),this}unbind_global(s){return s?(this.global_callbacks=mn(this.global_callbacks||[],o=>o!==s),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(s,o,h){for(var l=0;l<this.global_callbacks.length;l++)this.global_callbacks[l](s,o);var y=this.callbacks.get(s),k=[];if(h?k.push(o,h):o&&k.push(o),y&&y.length>0)for(var l=0;l<y.length;l++)y[l].fn.apply(y[l].context||window,k);else this.failThrough&&this.failThrough(s,o);return this}}class bs extends me{constructor(s,o,h,l,y){super(),this.initialize=A.transportConnectionInitializer,this.hooks=s,this.name=o,this.priority=h,this.key=l,this.options=y,this.state="new",this.timeline=y.timeline,this.activityTimeout=y.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return Boolean(this.hooks.handlesActivityChecks)}supportsPing(){return Boolean(this.hooks.supportsPing)}connect(){if(this.socket||this.state!=="initialized")return!1;var s=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(s,this.options)}catch(o){return z.defer(()=>{this.onError(o),this.changeState("closed")}),!1}return this.bindListeners(),D.debug("Connecting",{transport:this.name,url:s}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(s){return this.state==="open"?(z.defer(()=>{this.socket&&this.socket.send(s)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(s){this.emit("error",{type:"WebSocketError",error:s}),this.timeline.error(this.buildTimelineMessage({error:s.toString()}))}onClose(s){s?this.changeState("closed",{code:s.code,reason:s.reason,wasClean:s.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(s){this.emit("message",s)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=s=>{this.onError(s)},this.socket.onclose=s=>{this.onClose(s)},this.socket.onmessage=s=>{this.onMessage(s)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(s,o){this.state=s,this.timeline.info(this.buildTimelineMessage({state:s,params:o})),this.emit(s,o)}buildTimelineMessage(s){return Y({cid:this.id},s)}}class Te{constructor(s){this.hooks=s}isSupported(s){return this.hooks.isSupported(s)}createConnection(s,o,h,l){return new bs(this.hooks,s,o,h,l)}}var vs=new Te({urls:ps,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(A.getWebSocketAPI())},isSupported:function(){return Boolean(A.getWebSocketAPI())},getSocket:function(a){return A.createWebSocket(a)}}),vn={urls:gs,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},wn=Y({getSocket:function(a){return A.HTTPFactory.createStreamingSocket(a)}},vn),_n=Y({getSocket:function(a){return A.HTTPFactory.createPollingSocket(a)}},vn),Sn={isSupported:function(){return A.isXHRSupported()}},ws=new Te(Y({},wn,Sn)),_s=new Te(Y({},_n,Sn)),Ss={ws:vs,xhr_streaming:ws,xhr_polling:_s},Je=Ss,ks=new Te({file:"sockjs",urls:ms,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(a,s){return new window.SockJS(a,null,{js_path:_.getPath("sockjs",{useTLS:s.useTLS}),ignore_null_origin:s.ignoreNullOrigin})},beforeOpen:function(a,s){a.send(JSON.stringify({path:s}))}}),kn={isSupported:function(a){var s=A.isXDRSupported(a.useTLS);return s}},Cs=new Te(Y({},wn,kn)),Ts=new Te(Y({},_n,kn));Je.xdr_streaming=Cs,Je.xdr_polling=Ts,Je.sockjs=ks;var Es=Je;class Rs extends me{constructor(){super();var s=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){s.emit("online")},!1),window.addEventListener("offline",function(){s.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Os=new Rs;class xs{constructor(s,o,h){this.manager=s,this.transport=o,this.minPingDelay=h.minPingDelay,this.maxPingDelay=h.maxPingDelay,this.pingDelay=void 0}createConnection(s,o,h,l){l=Y({},l,{activityTimeout:this.pingDelay});var y=this.transport.createConnection(s,o,h,l),k=null,T=function(){y.unbind("open",T),y.bind("closed",x),k=z.now()},x=N=>{if(y.unbind("closed",x),N.code===1002||N.code===1003)this.manager.reportDeath();else if(!N.wasClean&&k){var I=z.now()-k;I<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(I/2,this.minPingDelay))}};return y.bind("open",T),y}isSupported(s){return this.manager.isAlive()&&this.transport.isSupported(s)}}const Cn={decodeMessage:function(a){try{var s=JSON.parse(a.data),o=s.data;if(typeof o=="string")try{o=JSON.parse(s.data)}catch{}var h={event:s.event,channel:s.channel,data:o};return s.user_id&&(h.user_id=s.user_id),h}catch(l){throw{type:"MessageParseError",error:l,data:a.data}}},encodeMessage:function(a){return JSON.stringify(a)},processHandshake:function(a){var s=Cn.decodeMessage(a);if(s.event==="pusher:connection_established"){if(!s.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:s.data.socket_id,activityTimeout:s.data.activity_timeout*1e3}}else{if(s.event==="pusher:error")return{action:this.getCloseAction(s.data),error:this.getCloseError(s.data)};throw"Invalid handshake"}},getCloseAction:function(a){return a.code<4e3?a.code>=1002&&a.code<=1004?"backoff":null:a.code===4e3?"tls_only":a.code<4100?"refused":a.code<4200?"backoff":a.code<4300?"retry":"refused"},getCloseError:function(a){return a.code!==1e3&&a.code!==1001?{type:"PusherError",data:{code:a.code,message:a.reason||a.message}}:null}};var ve=Cn;class As extends me{constructor(s,o){super(),this.id=s,this.transport=o,this.activityTimeout=o.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(s){return this.transport.send(s)}send_event(s,o,h){var l={event:s,data:o};return h&&(l.channel=h),D.debug("Event sent",l),this.send(ve.encodeMessage(l))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var s={message:h=>{var l;try{l=ve.decodeMessage(h)}catch(y){this.emit("error",{type:"MessageParseError",error:y,data:h.data})}if(l!==void 0){switch(D.debug("Event recd",l),l.event){case"pusher:error":this.emit("error",{type:"PusherError",data:l.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",l)}},activity:()=>{this.emit("activity")},error:h=>{this.emit("error",h)},closed:h=>{o(),h&&h.code&&this.handleCloseEvent(h),this.transport=null,this.emit("closed")}},o=()=>{ge(s,(h,l)=>{this.transport.unbind(l,h)})};ge(s,(h,l)=>{this.transport.bind(l,h)})}handleCloseEvent(s){var o=ve.getCloseAction(s),h=ve.getCloseError(s);h&&this.emit("error",h),o&&this.emit(o,{action:o,error:h})}}class Ps{constructor(s,o){this.transport=s,this.callback=o,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=s=>{this.unbindListeners();var o;try{o=ve.processHandshake(s)}catch(h){this.finish("error",{error:h}),this.transport.close();return}o.action==="connected"?this.finish("connected",{connection:new As(o.id,this.transport),activityTimeout:o.activityTimeout}):(this.finish(o.action,{error:o.error}),this.transport.close())},this.onClosed=s=>{this.unbindListeners();var o=ve.getCloseAction(s)||"backoff",h=ve.getCloseError(s);this.finish(o,{error:h})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(s,o){this.callback(Y({transport:this.transport,action:s},o))}}class Ls{constructor(s,o){this.timeline=s,this.options=o||{}}send(s,o){this.timeline.isEmpty()||this.timeline.send(A.TimelineTransport.getAgent(this,s),o)}}class Ct extends me{constructor(s,o){super(function(h,l){D.debug("No callbacks on "+s+" for "+h)}),this.name=s,this.pusher=o,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(s,o){return o(null,{auth:""})}trigger(s,o){if(s.indexOf("client-")!==0)throw new p("Event '"+s+"' does not start with 'client-'");if(!this.subscribed){var h=b.buildLogSuffix("triggeringClientEvents");D.warn(`Client event triggered before channel 'subscription_succeeded' event . ${h}`)}return this.pusher.send_event(s,o,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(s){var o=s.event,h=s.data;if(o==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(s);else if(o==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(s);else if(o.indexOf("pusher_internal:")!==0){var l={};this.emit(o,h,l)}}handleSubscriptionSucceededEvent(s){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",s.data)}handleSubscriptionCountEvent(s){s.data.subscription_count&&(this.subscriptionCount=s.data.subscription_count),this.emit("pusher:subscription_count",s.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(s,o)=>{s?(this.subscriptionPending=!1,D.error(s.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:s.message},s instanceof J?{status:s.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:o.auth,channel_data:o.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Tt extends Ct{authorize(s,o){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:s},o)}}class Ns{constructor(){this.reset()}get(s){return Object.prototype.hasOwnProperty.call(this.members,s)?{id:s,info:this.members[s]}:null}each(s){ge(this.members,(o,h)=>{s(this.get(h))})}setMyID(s){this.myID=s}onSubscription(s){this.members=s.presence.hash,this.count=s.presence.count,this.me=this.get(this.myID)}addMember(s){return this.get(s.user_id)===null&&this.count++,this.members[s.user_id]=s.user_info,this.get(s.user_id)}removeMember(s){var o=this.get(s.user_id);return o&&(delete this.members[s.user_id],this.count--),o}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Bs=function(a,s,o,h){function l(y){return y instanceof o?y:new o(function(k){k(y)})}return new(o||(o=Promise))(function(y,k){function T(I){try{N(h.next(I))}catch(j){k(j)}}function x(I){try{N(h.throw(I))}catch(j){k(j)}}function N(I){I.done?y(I.value):l(I.value).then(T,x)}N((h=h.apply(a,s||[])).next())})};class Is extends Tt{constructor(s,o){super(s,o),this.members=new Ns}authorize(s,o){super.authorize(s,(h,l)=>Bs(this,void 0,void 0,function*(){if(!h)if(l=l,l.channel_data!=null){var y=JSON.parse(l.channel_data);this.members.setMyID(y.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let k=b.buildLogSuffix("authorizationEndpoint");D.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${k}, or the user should be signed in.`),o("Invalid auth response");return}o(h,l)}))}handleEvent(s){var o=s.event;if(o.indexOf("pusher_internal:")===0)this.handleInternalEvent(s);else{var h=s.data,l={};s.user_id&&(l.user_id=s.user_id),this.emit(o,h,l)}}handleInternalEvent(s){var o=s.event,h=s.data;switch(o){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(s);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(s);break;case"pusher_internal:member_added":var l=this.members.addMember(h);this.emit("pusher:member_added",l);break;case"pusher_internal:member_removed":var y=this.members.removeMember(h);y&&this.emit("pusher:member_removed",y);break}}handleSubscriptionSucceededEvent(s){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(s.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Us=i(1),Et=i(0);class Ds extends Tt{constructor(s,o,h){super(s,o),this.key=null,this.nacl=h}authorize(s,o){super.authorize(s,(h,l)=>{if(h){o(h,l);return}let y=l.shared_secret;if(!y){o(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Et.decode)(y),delete l.shared_secret,o(null,l)})}trigger(s,o){throw new U("Client events are not currently supported for encrypted channels")}handleEvent(s){var o=s.event,h=s.data;if(o.indexOf("pusher_internal:")===0||o.indexOf("pusher:")===0){super.handleEvent(s);return}this.handleEncryptedEvent(o,h)}handleEncryptedEvent(s,o){if(!this.key){D.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!o.ciphertext||!o.nonce){D.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+o);return}let h=Object(Et.decode)(o.ciphertext);if(h.length<this.nacl.secretbox.overheadLength){D.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${h.length}`);return}let l=Object(Et.decode)(o.nonce);if(l.length<this.nacl.secretbox.nonceLength){D.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${l.length}`);return}let y=this.nacl.secretbox.open(h,l,this.key);if(y===null){D.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(k,T)=>{if(k){D.error(`Failed to make a request to the authEndpoint: ${T}. Unable to fetch new key, so dropping encrypted event`);return}if(y=this.nacl.secretbox.open(h,l,this.key),y===null){D.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(s,this.getDataToEmit(y))});return}this.emit(s,this.getDataToEmit(y))}getDataToEmit(s){let o=Object(Us.decode)(s);try{return JSON.parse(o)}catch{return o}}}class qs extends me{constructor(s,o){super(),this.state="initialized",this.connection=null,this.key=s,this.options=o,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var h=A.getNetwork();h.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),h.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(s){return this.connection?this.connection.send(s):!1}send_event(s,o,h){return this.connection?this.connection.send_event(s,o,h):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var s=(o,h)=>{o?this.runner=this.strategy.connect(0,s):h.action==="error"?(this.emit("error",{type:"HandshakeError",error:h.error}),this.timeline.error({handshakeError:h.error})):(this.abortConnecting(),this.handshakeCallbacks[h.action](h))};this.runner=this.strategy.connect(0,s)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var s=this.abandonConnection();s.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(s){this.timeline.info({action:"retry",delay:s}),s>0&&this.emit("connecting_in",Math.round(s/1e3)),this.retryTimer=new Q(s||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Q(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Q(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Q(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(s){return Y({},s,{message:o=>{this.resetActivityCheck(),this.emit("message",o)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:o=>{this.emit("error",o)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(s){return Y({},s,{connected:o=>{this.activityTimeout=Math.min(this.options.activityTimeout,o.activityTimeout,o.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(o.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let s=o=>h=>{h.error&&this.emit("error",{type:"WebSocketError",error:h.error}),o(h)};return{tls_only:s(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:s(()=>{this.disconnect()}),backoff:s(()=>{this.retryIn(1e3)}),retry:s(()=>{this.retryIn(0)})}}setConnection(s){this.connection=s;for(var o in this.connectionCallbacks)this.connection.bind(o,this.connectionCallbacks[o]);this.resetActivityCheck()}abandonConnection(){if(!!this.connection){this.stopActivityCheck();for(var s in this.connectionCallbacks)this.connection.unbind(s,this.connectionCallbacks[s]);var o=this.connection;return this.connection=null,o}}updateState(s,o){var h=this.state;if(this.state=s,h!==s){var l=s;l==="connected"&&(l+=" with new socket ID "+o.socket_id),D.debug("State changed",h+" -> "+l),this.timeline.info({state:s,params:o}),this.emit("state_change",{previous:h,current:s}),this.emit(s,o)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class js{constructor(){this.channels={}}add(s,o){return this.channels[s]||(this.channels[s]=Fs(s,o)),this.channels[s]}all(){return Zr(this.channels)}find(s){return this.channels[s]}remove(s){var o=this.channels[s];return delete this.channels[s],o}disconnect(){ge(this.channels,function(s){s.disconnect()})}}function Fs(a,s){if(a.indexOf("private-encrypted-")===0){if(s.config.nacl)return ye.createEncryptedChannel(a,s,s.config.nacl);let o="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",h=b.buildLogSuffix("encryptedChannelSupport");throw new U(`${o}. ${h}`)}else{if(a.indexOf("private-")===0)return ye.createPrivateChannel(a,s);if(a.indexOf("presence-")===0)return ye.createPresenceChannel(a,s);if(a.indexOf("#")===0)throw new S('Cannot create a channel with name "'+a+'".');return ye.createChannel(a,s)}}var Hs={createChannels(){return new js},createConnectionManager(a,s){return new qs(a,s)},createChannel(a,s){return new Ct(a,s)},createPrivateChannel(a,s){return new Tt(a,s)},createPresenceChannel(a,s){return new Is(a,s)},createEncryptedChannel(a,s,o){return new Ds(a,s,o)},createTimelineSender(a,s){return new Ls(a,s)},createHandshake(a,s){return new Ps(a,s)},createAssistantToTheTransportManager(a,s,o){return new xs(a,s,o)}},ye=Hs;class Tn{constructor(s){this.options=s||{},this.livesLeft=this.options.lives||1/0}getAssistant(s){return ye.createAssistantToTheTransportManager(this,s,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class we{constructor(s,o){this.strategies=s,this.loop=Boolean(o.loop),this.failFast=Boolean(o.failFast),this.timeout=o.timeout,this.timeoutLimit=o.timeoutLimit}isSupported(){return bn(this.strategies,z.method("isSupported"))}connect(s,o){var h=this.strategies,l=0,y=this.timeout,k=null,T=(x,N)=>{N?o(null,N):(l=l+1,this.loop&&(l=l%h.length),l<h.length?(y&&(y=y*2,this.timeoutLimit&&(y=Math.min(y,this.timeoutLimit))),k=this.tryStrategy(h[l],s,{timeout:y,failFast:this.failFast},T)):o(!0))};return k=this.tryStrategy(h[l],s,{timeout:y,failFast:this.failFast},T),{abort:function(){k.abort()},forceMinPriority:function(x){s=x,k&&k.forceMinPriority(x)}}}tryStrategy(s,o,h,l){var y=null,k=null;return h.timeout>0&&(y=new Q(h.timeout,function(){k.abort(),l(!0)})),k=s.connect(o,function(T,x){T&&y&&y.isRunning()&&!h.failFast||(y&&y.ensureAborted(),l(T,x))}),{abort:function(){y&&y.ensureAborted(),k.abort()},forceMinPriority:function(T){k.forceMinPriority(T)}}}}class Rt{constructor(s){this.strategies=s}isSupported(){return bn(this.strategies,z.method("isSupported"))}connect(s,o){return Ms(this.strategies,s,function(h,l){return function(y,k){if(l[h].error=y,y){zs(l)&&o(!0);return}Le(l,function(T){T.forceMinPriority(k.transport.priority)}),o(null,k)}})}}function Ms(a,s,o){var h=gn(a,function(l,y,k,T){return l.connect(s,o(y,T))});return{abort:function(){Le(h,$s)},forceMinPriority:function(l){Le(h,function(y){y.forceMinPriority(l)})}}}function zs(a){return ns(a,function(s){return Boolean(s.error)})}function $s(a){!a.error&&!a.aborted&&(a.abort(),a.aborted=!0)}class Vs{constructor(s,o,h){this.strategy=s,this.transports=o,this.ttl=h.ttl||1800*1e3,this.usingTLS=h.useTLS,this.timeline=h.timeline}isSupported(){return this.strategy.isSupported()}connect(s,o){var h=this.usingTLS,l=Ws(h),y=l&&l.cacheSkipCount?l.cacheSkipCount:0,k=[this.strategy];if(l&&l.timestamp+this.ttl>=z.now()){var T=this.transports[l.transport];T&&(["ws","wss"].includes(l.transport)||y>3?(this.timeline.info({cached:!0,transport:l.transport,latency:l.latency}),k.push(new we([T],{timeout:l.latency*2+1e3,failFast:!0}))):y++)}var x=z.now(),N=k.pop().connect(s,function I(j,Qe){j?(En(h),k.length>0?(x=z.now(),N=k.pop().connect(s,I)):o(j)):(Js(h,Qe.transport.name,z.now()-x,y),o(null,Qe))});return{abort:function(){N.abort()},forceMinPriority:function(I){s=I,N&&N.forceMinPriority(I)}}}}function Ot(a){return"pusherTransport"+(a?"TLS":"NonTLS")}function Ws(a){var s=A.getLocalStorage();if(s)try{var o=s[Ot(a)];if(o)return JSON.parse(o)}catch{En(a)}return null}function Js(a,s,o,h){var l=A.getLocalStorage();if(l)try{l[Ot(a)]=We({timestamp:z.now(),transport:s,latency:o,cacheSkipCount:h})}catch{}}function En(a){var s=A.getLocalStorage();if(s)try{delete s[Ot(a)]}catch{}}class Xe{constructor(s,{delay:o}){this.strategy=s,this.options={delay:o}}isSupported(){return this.strategy.isSupported()}connect(s,o){var h=this.strategy,l,y=new Q(this.options.delay,function(){l=h.connect(s,o)});return{abort:function(){y.ensureAborted(),l&&l.abort()},forceMinPriority:function(k){s=k,l&&l.forceMinPriority(k)}}}}class Ne{constructor(s,o,h){this.test=s,this.trueBranch=o,this.falseBranch=h}isSupported(){var s=this.test()?this.trueBranch:this.falseBranch;return s.isSupported()}connect(s,o){var h=this.test()?this.trueBranch:this.falseBranch;return h.connect(s,o)}}class Xs{constructor(s){this.strategy=s}isSupported(){return this.strategy.isSupported()}connect(s,o){var h=this.strategy.connect(s,function(l,y){y&&h.abort(),o(l,y)});return h}}function Be(a){return function(){return a.isSupported()}}var Ks=function(a,s,o){var h={};function l(Dn,Xi,Ki,Qi,Yi){var qn=o(a,Dn,Xi,Ki,Qi,Yi);return h[Dn]=qn,qn}var y=Object.assign({},s,{hostNonTLS:a.wsHost+":"+a.wsPort,hostTLS:a.wsHost+":"+a.wssPort,httpPath:a.wsPath}),k=Object.assign({},y,{useTLS:!0}),T=Object.assign({},s,{hostNonTLS:a.httpHost+":"+a.httpPort,hostTLS:a.httpHost+":"+a.httpsPort,httpPath:a.httpPath}),x={loop:!0,timeout:15e3,timeoutLimit:6e4},N=new Tn({minPingDelay:1e4,maxPingDelay:a.activityTimeout}),I=new Tn({lives:2,minPingDelay:1e4,maxPingDelay:a.activityTimeout}),j=l("ws","ws",3,y,N),Qe=l("wss","ws",3,k,N),zi=l("sockjs","sockjs",1,T),Pn=l("xhr_streaming","xhr_streaming",1,T,I),$i=l("xdr_streaming","xdr_streaming",1,T,I),Ln=l("xhr_polling","xhr_polling",1,T),Vi=l("xdr_polling","xdr_polling",1,T),Nn=new we([j],x),Wi=new we([Qe],x),Ji=new we([zi],x),Bn=new we([new Ne(Be(Pn),Pn,$i)],x),In=new we([new Ne(Be(Ln),Ln,Vi)],x),Un=new we([new Ne(Be(Bn),new Rt([Bn,new Xe(In,{delay:4e3})]),In)],x),Lt=new Ne(Be(Un),Un,Ji),Nt;return s.useTLS?Nt=new Rt([Nn,new Xe(Lt,{delay:2e3})]):Nt=new Rt([Nn,new Xe(Wi,{delay:2e3}),new Xe(Lt,{delay:5e3})]),new Vs(new Xs(new Ne(Be(j),Nt,Lt)),h,{ttl:18e5,timeline:s.timeline,useTLS:s.useTLS})},Qs=Ks,Ys=function(){var a=this;a.timeline.info(a.buildTimelineMessage({transport:a.name+(a.options.useTLS?"s":"")})),a.hooks.isInitialized()?a.changeState("initialized"):a.hooks.file?(a.changeState("initializing"),_.load(a.hooks.file,{useTLS:a.options.useTLS},function(s,o){a.hooks.isInitialized()?(a.changeState("initialized"),o(!0)):(s&&a.onError(s),a.onClose(),o(!1))})):a.onClose()},Gs={getRequest:function(a){var s=new window.XDomainRequest;return s.ontimeout=function(){a.emit("error",new E),a.close()},s.onerror=function(o){a.emit("error",o),a.close()},s.onprogress=function(){s.responseText&&s.responseText.length>0&&a.onChunk(200,s.responseText)},s.onload=function(){s.responseText&&s.responseText.length>0&&a.onChunk(200,s.responseText),a.emit("finished",200),a.close()},s},abortRequest:function(a){a.ontimeout=a.onerror=a.onprogress=a.onload=null,a.abort()}},Zs=Gs;const ei=256*1024;class ti extends me{constructor(s,o,h){super(),this.hooks=s,this.method=o,this.url=h}start(s){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},A.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(s)}close(){this.unloader&&(A.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(s,o){for(;;){var h=this.advanceBuffer(o);if(h)this.emit("chunk",{status:s,data:h});else break}this.isBufferTooLong(o)&&this.emit("buffer_too_long")}advanceBuffer(s){var o=s.slice(this.position),h=o.indexOf(`
`);return h!==-1?(this.position+=h+1,o.slice(0,h)):null}isBufferTooLong(s){return this.position===s.length&&s.length>ei}}var xt;(function(a){a[a.CONNECTING=0]="CONNECTING",a[a.OPEN=1]="OPEN",a[a.CLOSED=3]="CLOSED"})(xt||(xt={}));var _e=xt,ni=1;class ri{constructor(s,o){this.hooks=s,this.session=On(1e3)+"/"+ai(8),this.location=si(o),this.readyState=_e.CONNECTING,this.openStream()}send(s){return this.sendRaw(JSON.stringify([s]))}ping(){this.hooks.sendHeartbeat(this)}close(s,o){this.onClose(s,o,!0)}sendRaw(s){if(this.readyState===_e.OPEN)try{return A.createSocketRequest("POST",Rn(ii(this.location,this.session))).start(s),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(s,o,h){this.closeStream(),this.readyState=_e.CLOSED,this.onclose&&this.onclose({code:s,reason:o,wasClean:h})}onChunk(s){if(s.status===200){this.readyState===_e.OPEN&&this.onActivity();var o,h=s.data.slice(0,1);switch(h){case"o":o=JSON.parse(s.data.slice(1)||"{}"),this.onOpen(o);break;case"a":o=JSON.parse(s.data.slice(1)||"[]");for(var l=0;l<o.length;l++)this.onEvent(o[l]);break;case"m":o=JSON.parse(s.data.slice(1)||"null"),this.onEvent(o);break;case"h":this.hooks.onHeartbeat(this);break;case"c":o=JSON.parse(s.data.slice(1)||"[]"),this.onClose(o[0],o[1],!0);break}}}onOpen(s){this.readyState===_e.CONNECTING?(s&&s.hostname&&(this.location.base=oi(this.location.base,s.hostname)),this.readyState=_e.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(s){this.readyState===_e.OPEN&&this.onmessage&&this.onmessage({data:s})}onActivity(){this.onactivity&&this.onactivity()}onError(s){this.onerror&&this.onerror(s)}openStream(){this.stream=A.createSocketRequest("POST",Rn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",s=>{this.onChunk(s)}),this.stream.bind("finished",s=>{this.hooks.onFinished(this,s)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(s){z.defer(()=>{this.onError(s),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function si(a){var s=/([^\?]*)\/*(\??.*)/.exec(a);return{base:s[1],queryString:s[2]}}function ii(a,s){return a.base+"/"+s+"/xhr_send"}function Rn(a){var s=a.indexOf("?")===-1?"?":"&";return a+s+"t="+ +new Date+"&n="+ni++}function oi(a,s){var o=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(a);return o[1]+s+o[3]}function On(a){return A.randomInt(a)}function ai(a){for(var s=[],o=0;o<a;o++)s.push(On(32).toString(32));return s.join("")}var ci=ri,ui={getReceiveURL:function(a,s){return a.base+"/"+s+"/xhr_streaming"+a.queryString},onHeartbeat:function(a){a.sendRaw("[]")},sendHeartbeat:function(a){a.sendRaw("[]")},onFinished:function(a,s){a.onClose(1006,"Connection interrupted ("+s+")",!1)}},hi=ui,li={getReceiveURL:function(a,s){return a.base+"/"+s+"/xhr"+a.queryString},onHeartbeat:function(){},sendHeartbeat:function(a){a.sendRaw("[]")},onFinished:function(a,s){s===200?a.reconnect():a.onClose(1006,"Connection interrupted ("+s+")",!1)}},fi=li,di={getRequest:function(a){var s=A.getXHRAPI(),o=new s;return o.onreadystatechange=o.onprogress=function(){switch(o.readyState){case 3:o.responseText&&o.responseText.length>0&&a.onChunk(o.status,o.responseText);break;case 4:o.responseText&&o.responseText.length>0&&a.onChunk(o.status,o.responseText),a.emit("finished",o.status),a.close();break}},o},abortRequest:function(a){a.onreadystatechange=null,a.abort()}},pi=di,gi={createStreamingSocket(a){return this.createSocket(hi,a)},createPollingSocket(a){return this.createSocket(fi,a)},createSocket(a,s){return new ci(a,s)},createXHR(a,s){return this.createRequest(pi,a,s)},createRequest(a,s,o){return new ti(a,s,o)}},xn=gi;xn.createXDR=function(a,s){return this.createRequest(Zs,a,s)};var mi=xn,yi={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u,DependenciesReceivers:m,getDefaultStrategy:Qs,Transports:Es,transportConnectionInitializer:Ys,HTTPFactory:mi,TimelineTransport:ds,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(a){window.Pusher=a;var s=()=>{this.onDocumentBody(a.ready)};window.JSON?s():_.load("json2",{},s)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:re,jsonp:cs}},onDocumentBody(a){document.body?a():setTimeout(()=>{this.onDocumentBody(a)},0)},createJSONPRequest(a,s){return new hs(a,s)},createScriptRequest(a){return new us(a)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var a=this.getXHRAPI();return new a},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Os},createWebSocket(a){var s=this.getWebSocketAPI();return new s(a)},createSocketRequest(a,s){if(this.isXHRSupported())return this.HTTPFactory.createXHR(a,s);if(this.isXDRSupported(s.indexOf("https:")===0))return this.HTTPFactory.createXDR(a,s);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var a=this.getXHRAPI();return Boolean(a)&&new a().withCredentials!==void 0},isXDRSupported(a){var s=a?"https:":"http:",o=this.getProtocol();return Boolean(window.XDomainRequest)&&o===s},addUnloadListener(a){window.addEventListener!==void 0?window.addEventListener("unload",a,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",a)},removeUnloadListener(a){window.addEventListener!==void 0?window.removeEventListener("unload",a,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",a)},randomInt(a){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*a)}},A=yi,At;(function(a){a[a.ERROR=3]="ERROR",a[a.INFO=6]="INFO",a[a.DEBUG=7]="DEBUG"})(At||(At={}));var Ke=At;class bi{constructor(s,o,h){this.key=s,this.session=o,this.events=[],this.options=h||{},this.sent=0,this.uniqueID=0}log(s,o){s<=this.options.level&&(this.events.push(Y({},o,{timestamp:z.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(s){this.log(Ke.ERROR,s)}info(s){this.log(Ke.INFO,s)}debug(s){this.log(Ke.DEBUG,s)}isEmpty(){return this.events.length===0}send(s,o){var h=Y({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],s(h,(l,y)=>{l||this.sent++,o&&o(l,y)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class vi{constructor(s,o,h,l){this.name=s,this.priority=o,this.transport=h,this.options=l||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(s,o){if(this.isSupported()){if(this.priority<s)return An(new O,o)}else return An(new q,o);var h=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),y=null,k=function(){l.unbind("initialized",k),l.connect()},T=function(){y=ye.createHandshake(l,function(j){h=!0,I(),o(null,j)})},x=function(j){I(),o(j)},N=function(){I();var j;j=We(l),o(new B(j))},I=function(){l.unbind("initialized",k),l.unbind("open",T),l.unbind("error",x),l.unbind("closed",N)};return l.bind("initialized",k),l.bind("open",T),l.bind("error",x),l.bind("closed",N),l.initialize(),{abort:()=>{h||(I(),y?y.close():l.close())},forceMinPriority:j=>{h||this.priority<j&&(y?y.close():l.close())}}}}function An(a,s){return z.defer(function(){s(a)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:wi}=A;var _i=function(a,s,o,h,l,y){var k=wi[o];if(!k)throw new M(o);var T=(!a.enabledTransports||dn(a.enabledTransports,s)!==-1)&&(!a.disabledTransports||dn(a.disabledTransports,s)===-1),x;return T?(l=Object.assign({ignoreNullOrigin:a.ignoreNullOrigin},l),x=new vi(s,h,y?y.getAssistant(k):k,l)):x=Si,x},Si={isSupported:function(){return!1},connect:function(a,s){var o=z.defer(function(){s(new q)});return{abort:function(){o.ensureAborted()},forceMinPriority:function(){}}}};function ki(a){if(a==null)throw"You must pass an options object";if(a.cluster==null)throw"Options object must provide a cluster";"disableStats"in a&&D.warn("The disableStats option is deprecated in favor of enableStats")}const Ci=(a,s)=>{var o="socket_id="+encodeURIComponent(a.socketId);for(var h in s.params)o+="&"+encodeURIComponent(h)+"="+encodeURIComponent(s.params[h]);if(s.paramsProvider!=null){let l=s.paramsProvider();for(var h in l)o+="&"+encodeURIComponent(h)+"="+encodeURIComponent(l[h])}return o};var Ti=a=>{if(typeof A.getAuthorizers()[a.transport]>"u")throw`'${a.transport}' is not a recognized auth transport`;return(s,o)=>{const h=Ci(s,a);A.getAuthorizers()[a.transport](A,h,a,w.UserAuthentication,o)}};const Ei=(a,s)=>{var o="socket_id="+encodeURIComponent(a.socketId);o+="&channel_name="+encodeURIComponent(a.channelName);for(var h in s.params)o+="&"+encodeURIComponent(h)+"="+encodeURIComponent(s.params[h]);if(s.paramsProvider!=null){let l=s.paramsProvider();for(var h in l)o+="&"+encodeURIComponent(h)+"="+encodeURIComponent(l[h])}return o};var Ri=a=>{if(typeof A.getAuthorizers()[a.transport]>"u")throw`'${a.transport}' is not a recognized auth transport`;return(s,o)=>{const h=Ei(s,a);A.getAuthorizers()[a.transport](A,h,a,w.ChannelAuthorization,o)}};const Oi=(a,s,o)=>{const h={authTransport:s.transport,authEndpoint:s.endpoint,auth:{params:s.params,headers:s.headers}};return(l,y)=>{const k=a.channel(l.channelName);o(k,h).authorize(l.socketId,y)}};function xi(a,s){let o={activityTimeout:a.activityTimeout||g.activityTimeout,cluster:a.cluster,httpPath:a.httpPath||g.httpPath,httpPort:a.httpPort||g.httpPort,httpsPort:a.httpsPort||g.httpsPort,pongTimeout:a.pongTimeout||g.pongTimeout,statsHost:a.statsHost||g.stats_host,unavailableTimeout:a.unavailableTimeout||g.unavailableTimeout,wsPath:a.wsPath||g.wsPath,wsPort:a.wsPort||g.wsPort,wssPort:a.wssPort||g.wssPort,enableStats:Bi(a),httpHost:Ai(a),useTLS:Ni(a),wsHost:Pi(a),userAuthenticator:Ii(a),channelAuthorizer:Di(a,s)};return"disabledTransports"in a&&(o.disabledTransports=a.disabledTransports),"enabledTransports"in a&&(o.enabledTransports=a.enabledTransports),"ignoreNullOrigin"in a&&(o.ignoreNullOrigin=a.ignoreNullOrigin),"timelineParams"in a&&(o.timelineParams=a.timelineParams),"nacl"in a&&(o.nacl=a.nacl),o}function Ai(a){return a.httpHost?a.httpHost:a.cluster?`sockjs-${a.cluster}.pusher.com`:g.httpHost}function Pi(a){return a.wsHost?a.wsHost:Li(a.cluster)}function Li(a){return`ws-${a}.pusher.com`}function Ni(a){return A.getProtocol()==="https:"?!0:a.forceTLS!==!1}function Bi(a){return"enableStats"in a?a.enableStats:"disableStats"in a?!a.disableStats:!1}function Ii(a){const s=Object.assign(Object.assign({},g.userAuthentication),a.userAuthentication);return"customHandler"in s&&s.customHandler!=null?s.customHandler:Ti(s)}function Ui(a,s){let o;return"channelAuthorization"in a?o=Object.assign(Object.assign({},g.channelAuthorization),a.channelAuthorization):(o={transport:a.authTransport||g.authTransport,endpoint:a.authEndpoint||g.authEndpoint},"auth"in a&&("params"in a.auth&&(o.params=a.auth.params),"headers"in a.auth&&(o.headers=a.auth.headers)),"authorizer"in a&&(o.customHandler=Oi(s,o,a.authorizer))),o}function Di(a,s){const o=Ui(a,s);return"customHandler"in o&&o.customHandler!=null?o.customHandler:Ri(o)}class qi extends me{constructor(s){super(function(o,h){D.debug(`No callbacks on watchlist events for ${o}`)}),this.pusher=s,this.bindWatchlistInternalEvent()}handleEvent(s){s.data.events.forEach(o=>{this.emit(o.name,o)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",s=>{var o=s.event;o==="pusher_internal:watchlist_events"&&this.handleEvent(s)})}}function ji(){let a,s;return{promise:new Promise((h,l)=>{a=h,s=l}),resolve:a,reject:s}}var Fi=ji;class Hi extends me{constructor(s){super(function(o,h){D.debug("No callbacks on user for "+o)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(o,h)=>{if(o){D.warn(`Error during signin: ${o}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:h.auth,user_data:h.user_data})},this.pusher=s,this.pusher.connection.bind("state_change",({previous:o,current:h})=>{o!=="connected"&&h==="connected"&&this._signin(),o==="connected"&&h!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new qi(s),this.pusher.connection.bind("message",o=>{var h=o.event;h==="pusher:signin_success"&&this._onSigninSuccess(o.data),this.serverToUserChannel&&this.serverToUserChannel.name===o.channel&&this.serverToUserChannel.handleEvent(o)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){!this.signin_requested||(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(s){try{this.user_data=JSON.parse(s.user_data)}catch{D.error(`Failed parsing user data after signin: ${s.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){D.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const s=o=>{o.subscriptionPending&&o.subscriptionCancelled?o.reinstateSubscription():!o.subscriptionPending&&this.pusher.connection.state==="connected"&&o.subscribe()};this.serverToUserChannel=new Ct(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((o,h)=>{o.indexOf("pusher_internal:")===0||o.indexOf("pusher:")===0||this.emit(o,h)}),s(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:s,resolve:o,reject:h}=Fi();s.done=!1;const l=()=>{s.done=!0};s.then(l).catch(l),this.signinDonePromise=s,this._signinDoneResolve=o}}class W{static ready(){W.isReady=!0;for(var s=0,o=W.instances.length;s<o;s++)W.instances[s].connect()}static getClientFeatures(){return pn(yn({ws:A.Transports.ws},function(s){return s.isSupported({})}))}constructor(s,o){Mi(s),ki(o),this.key=s,this.config=xi(o,this),this.channels=ye.createChannels(),this.global_emitter=new me,this.sessionID=A.randomInt(1e9),this.timeline=new bi(this.key,this.sessionID,{cluster:this.config.cluster,features:W.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Ke.INFO,version:g.VERSION}),this.config.enableStats&&(this.timelineSender=ye.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+A.TimelineTransport.name}));var h=l=>A.getDefaultStrategy(this.config,l,_i);this.connection=ye.createConnectionManager(this.key,{getStrategy:h,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",l=>{var y=l.event,k=y.indexOf("pusher_internal:")===0;if(l.channel){var T=this.channel(l.channel);T&&T.handleEvent(l)}k||this.global_emitter.emit(l.event,l.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",l=>{D.warn(l)}),W.instances.push(this),this.timeline.info({instances:W.instances.length}),this.user=new Hi(this),W.isReady&&this.connect()}channel(s){return this.channels.find(s)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var s=this.connection.isUsingTLS(),o=this.timelineSender;this.timelineSenderTimer=new Pe(6e4,function(){o.send(s)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(s,o,h){return this.global_emitter.bind(s,o,h),this}unbind(s,o,h){return this.global_emitter.unbind(s,o,h),this}bind_global(s){return this.global_emitter.bind_global(s),this}unbind_global(s){return this.global_emitter.unbind_global(s),this}unbind_all(s){return this.global_emitter.unbind_all(),this}subscribeAll(){var s;for(s in this.channels.channels)this.channels.channels.hasOwnProperty(s)&&this.subscribe(s)}subscribe(s){var o=this.channels.add(s,this);return o.subscriptionPending&&o.subscriptionCancelled?o.reinstateSubscription():!o.subscriptionPending&&this.connection.state==="connected"&&o.subscribe(),o}unsubscribe(s){var o=this.channels.find(s);o&&o.subscriptionPending?o.cancelSubscription():(o=this.channels.remove(s),o&&o.subscribed&&o.unsubscribe())}send_event(s,o,h){return this.connection.send_event(s,o,h)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}W.instances=[],W.isReady=!1,W.logToConsole=!1,W.Runtime=A,W.ScriptReceivers=A.ScriptReceivers,W.DependenciesReceivers=A.DependenciesReceivers,W.auth_callbacks=A.auth_callbacks;var Pt=r.default=W;function Mi(a){if(a==null)throw"You must pass your app key when you instantiate Pusher."}A.setup(W)}])})})(qr);const $a=za(qr.exports);window.Pusher=$a;window.Echo=new Dr({broadcaster:"reverb",key:"localkey",wsHost:"10.0.0.169",wsPort:"9000",wssPort:"9000",forceTLS:!1,enabledTransports:["ws","wss"]});window.axios=La;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const de=Object.create(null);de.open="0";de.close="1";de.ping="2";de.pong="3";de.message="4";de.upgrade="5";de.noop="6";const st=Object.create(null);Object.keys(de).forEach(n=>{st[de[n]]=n});const Vt={type:"error",data:"parser error"},jr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Fr=typeof ArrayBuffer=="function",Hr=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,cn=({type:n,data:e},t,r)=>jr&&e instanceof Blob?t?r(e):sr(e,r):Fr&&(e instanceof ArrayBuffer||Hr(e))?t?r(e):sr(new Blob([e]),r):r(de[n]+(e||"")),sr=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function ir(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let Dt;function Va(n,e){if(jr&&n.data instanceof Blob)return n.data.arrayBuffer().then(ir).then(e);if(Fr&&(n.data instanceof ArrayBuffer||Hr(n.data)))return e(ir(n.data));cn(n,!1,t=>{Dt||(Dt=new TextEncoder),e(Dt.encode(t))})}const or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<or.length;n++)De[or.charCodeAt(n)]=n;const Wa=n=>{let e=n.length*.75,t=n.length,r,i=0,c,u,f,g;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const v=new ArrayBuffer(e),m=new Uint8Array(v);for(r=0;r<t;r+=4)c=De[n.charCodeAt(r)],u=De[n.charCodeAt(r+1)],f=De[n.charCodeAt(r+2)],g=De[n.charCodeAt(r+3)],m[i++]=c<<2|u>>4,m[i++]=(u&15)<<4|f>>2,m[i++]=(f&3)<<6|g&63;return v},Ja=typeof ArrayBuffer=="function",un=(n,e)=>{if(typeof n!="string")return{type:"message",data:Mr(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:Xa(n.substring(1),e)}:st[t]?n.length>1?{type:st[t],data:n.substring(1)}:{type:st[t]}:Vt},Xa=(n,e)=>{if(Ja){const t=Wa(n);return Mr(t,e)}else return{base64:!0,data:n}},Mr=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},zr=String.fromCharCode(30),Ka=(n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((c,u)=>{cn(c,!1,f=>{r[u]=f,++i===t&&e(r.join(zr))})})},Qa=(n,e)=>{const t=n.split(zr),r=[];for(let i=0;i<t.length;i++){const c=un(t[i],e);if(r.push(c),c.type==="error")break}return r};function Ya(){return new TransformStream({transform(n,e){Va(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const c=new DataView(i.buffer);c.setUint8(0,126),c.setUint16(1,r)}else{i=new Uint8Array(9);const c=new DataView(i.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let qt;function Ge(n){return n.reduce((e,t)=>e+t.length,0)}function Ze(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Ga(n,e){qt||(qt=new TextDecoder);const t=[];let r=0,i=-1,c=!1;return new TransformStream({transform(u,f){for(t.push(u);;){if(r===0){if(Ge(t)<1)break;const g=Ze(t,1);c=(g[0]&128)===128,i=g[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Ge(t)<2)break;const g=Ze(t,2);i=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),r=3}else if(r===2){if(Ge(t)<8)break;const g=Ze(t,8),v=new DataView(g.buffer,g.byteOffset,g.length),m=v.getUint32(0);if(m>Math.pow(2,53-32)-1){f.enqueue(Vt);break}i=m*Math.pow(2,32)+v.getUint32(4),r=3}else{if(Ge(t)<i)break;const g=Ze(t,i);f.enqueue(un(c?g:qt.decode(g),e)),r=0}if(i===0||i>n){f.enqueue(Vt);break}}}})}const $r=4;function F(n){if(n)return Za(n)}function Za(n){for(var e in F.prototype)n[e]=F.prototype[e];return n}F.prototype.on=F.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};F.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};F.prototype.off=F.prototype.removeListener=F.prototype.removeAllListeners=F.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};F.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};F.prototype.emitReserved=F.prototype.emit;F.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};F.prototype.hasListeners=function(n){return!!this.listeners(n).length};const bt=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),ne=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),ec="arraybuffer";function Vr(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const tc=ne.setTimeout,nc=ne.clearTimeout;function vt(n,e){e.useNativeTimers?(n.setTimeoutFn=tc.bind(ne),n.clearTimeoutFn=nc.bind(ne)):(n.setTimeoutFn=ne.setTimeout.bind(ne),n.clearTimeoutFn=ne.clearTimeout.bind(ne))}const rc=1.33;function sc(n){return typeof n=="string"?ic(n):Math.ceil((n.byteLength||n.size)*rc)}function ic(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function Wr(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oc(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function ac(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let c=t[r].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class cc extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class hn extends F{constructor(e){super(),this.writable=!1,vt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new cc(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=un(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=oc(e);return t.length?"?"+t:""}}class uc extends hn{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Qa(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ka(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Wr()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let Jr=!1;try{Jr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hc=Jr;function lc(){}class fc extends uc{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,c)=>{this.onError("xhr post error",i,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}class fe extends F{constructor(e,t,r){super(),this.createRequest=e,vt(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const t=Vr(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=fe.requestsCount++,fe.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=lc,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete fe.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}fe.requestsCount=0;fe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ar);else if(typeof addEventListener=="function"){const n="onpagehide"in ne?"pagehide":"unload";addEventListener(n,ar,!1)}}function ar(){for(let n in fe.requests)fe.requests.hasOwnProperty(n)&&fe.requests[n].abort()}const dc=function(){const n=Xr({xdomain:!1});return n&&n.responseType!==null}();class pc extends fc{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=dc&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new fe(Xr,this.uri(),e)}}function Xr(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||hc))return new XMLHttpRequest}catch{}if(!e)try{return new ne[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Kr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class gc extends hn{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=Kr?{}:Vr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;cn(r,this.supportsBinary,c=>{try{this.doWrite(r,c)}catch{}i&&bt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Wr()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const jt=ne.WebSocket||ne.MozWebSocket;class mc extends gc{createSocket(e,t,r){return Kr?new jt(e,t,r):t?new jt(e,t):new jt(e)}doWrite(e,t){this.ws.send(t)}}class yc extends hn{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=Ga(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=Ya();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const c=()=>{r.read().then(({done:f,value:g})=>{f||(this.onPacket(g),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&bt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const bc={websocket:mc,webtransport:yc,polling:pc},vc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,wc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Wt(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=vc.exec(n||""),c={},u=14;for(;u--;)c[wc[u]]=i[u]||"";return t!=-1&&r!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=_c(c,c.path),c.queryKey=Sc(c,c.query),c}function _c(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Sc(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,c){i&&(t[i]=c)}),t}const Jt=typeof addEventListener=="function"&&typeof removeEventListener=="function",it=[];Jt&&addEventListener("offline",()=>{it.forEach(n=>n())},!1);class be extends F{constructor(e,t){if(super(),this.binaryType=ec,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const r=Wt(e);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Wt(t.host).host);vt(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ac(this.opts.query)),Jt&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},it.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=$r,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&be.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",be.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=sc(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,bt(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const c={type:e,data:t,options:r};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(be.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Jt&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=it.indexOf(this._offlineEventListener);r!==-1&&it.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}be.protocol=$r;class kc extends be{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;be.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",_=>{if(!r)if(_.type==="pong"&&_.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;be.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(m(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const C=new Error("probe error");C.transport=t.name,this.emitReserved("upgradeError",C)}}))};function c(){r||(r=!0,m(),t.close(),t=null)}const u=_=>{const C=new Error("probe error: "+_);C.transport=t.name,c(),this.emitReserved("upgradeError",C)};function f(){u("transport closed")}function g(){u("socket closed")}function v(_){t&&_.name!==t.name&&c()}const m=()=>{t.removeListener("open",i),t.removeListener("error",u),t.removeListener("close",f),this.off("close",g),this.off("upgrading",v)};t.once("open",i),t.once("error",u),t.once("close",f),this.once("close",g),this.once("upgrading",v),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class Cc extends kc{constructor(e,t={}){const r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>bc[i]).filter(i=>!!i)),super(e,r)}}function Tc(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Wt(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const c=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+c+":"+r.port+e,r.href=r.protocol+"://"+c+(t&&t.port===r.port?"":":"+r.port),r}const Ec=typeof ArrayBuffer=="function",Rc=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Qr=Object.prototype.toString,Oc=typeof Blob=="function"||typeof Blob<"u"&&Qr.call(Blob)==="[object BlobConstructor]",xc=typeof File=="function"||typeof File<"u"&&Qr.call(File)==="[object FileConstructor]";function ln(n){return Ec&&(n instanceof ArrayBuffer||Rc(n))||Oc&&n instanceof Blob||xc&&n instanceof File}function ot(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(ot(n[t]))return!0;return!1}if(ln(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return ot(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&ot(n[t]))return!0;return!1}function Ac(n){const e=[],t=n.data,r=n;return r.data=Xt(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Xt(n,e){if(!n)return n;if(ln(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Xt(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Xt(n[r],e));return t}return n}function Pc(n,e){return n.data=Kt(n.data,e),delete n.attachments,n}function Kt(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Kt(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Kt(n[t],e));return n}const Lc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Nc=5;var L;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(L||(L={}));class Bc{constructor(e){this.replacer=e}encode(e){return(e.type===L.EVENT||e.type===L.ACK)&&ot(e)?this.encodeAsBinary({type:e.type===L.EVENT?L.BINARY_EVENT:L.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===L.BINARY_EVENT||e.type===L.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ac(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function cr(n){return Object.prototype.toString.call(n)==="[object Object]"}class fn extends F{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===L.BINARY_EVENT;r||t.type===L.BINARY_ACK?(t.type=r?L.EVENT:L.ACK,this.reconstructor=new Ic(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(ln(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(L[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===L.BINARY_EVENT||r.type===L.BINARY_ACK){const c=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const u=e.substring(c,t);if(u!=Number(u)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(u)}if(e.charAt(t+1)==="/"){const c=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(c,t)}else r.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const c=t+1;for(;++t;){const u=e.charAt(t);if(u==null||Number(u)!=u){--t;break}if(t===e.length)break}r.id=Number(e.substring(c,t+1))}if(e.charAt(++t)){const c=this.tryParse(e.substr(t));if(fn.isPayloadValid(r.type,c))r.data=c;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case L.CONNECT:return cr(t);case L.DISCONNECT:return t===void 0;case L.CONNECT_ERROR:return typeof t=="string"||cr(t);case L.EVENT:case L.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Lc.indexOf(t[0])===-1);case L.ACK:case L.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ic{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Pc(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Uc=Object.freeze(Object.defineProperty({__proto__:null,protocol:Nc,get PacketType(){return L},Encoder:Bc,Decoder:fn},Symbol.toStringTag,{value:"Module"}));function se(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Dc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yr extends F{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[se(e,"open",this.onopen.bind(this)),se(e,"packet",this.onpacket.bind(this)),se(e,"error",this.onerror.bind(this)),se(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,c;if(Dc.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const u={type:L.EVENT,data:t};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const m=this.ids++,_=t.pop();this._registerAckCallback(m,_),u.id=m}const f=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,g=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(g?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,t){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);t.call(this,new Error("operation has timed out"))},i),u=(...f)=>{this.io.clearTimeoutFn(c),t.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...t){return new Promise((r,i)=>{const c=(u,f)=>u?i(u):r(f);c.withError=!0,t.push(c),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...c)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...c)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:L.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case L.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case L.EVENT:case L.BINARY_EVENT:this.onevent(e);break;case L.ACK:case L.BINARY_ACK:this.onack(e);break;case L.DISCONNECT:this.ondisconnect();break;case L.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:L.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:L.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function xe(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}xe.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};xe.prototype.reset=function(){this.attempts=0};xe.prototype.setMin=function(n){this.ms=n};xe.prototype.setMax=function(n){this.max=n};xe.prototype.setJitter=function(n){this.jitter=n};class Qt extends F{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,vt(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new xe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Uc;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Cc(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=se(t,"open",function(){r.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=se(t,"error",c);if(this._timeout!==!1){const f=this._timeout,g=this.setTimeoutFn(()=>{i(),c(new Error("timeout")),t.close()},f);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(i),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(se(e,"ping",this.onping.bind(this)),se(e,"data",this.ondata.bind(this)),se(e,"error",this.onerror.bind(this)),se(e,"close",this.onclose.bind(this)),se(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){bt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Yr(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ue={};function at(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Tc(n,e.path||"/socket.io"),r=t.source,i=t.id,c=t.path,u=Ue[i]&&c in Ue[i].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let g;return f?g=new Qt(r,e):(Ue[i]||(Ue[i]=new Qt(r,e)),g=Ue[i]),t.query&&!e.query&&(e.query=t.queryKey),g.socket(t.path,e)}Object.assign(at,{Manager:Qt,Socket:Yr,io:at,connect:at});window.io=at;window.Echo=new Dr({broadcaster:"reverb",key:"localkey",wsHost:"10.0.0.169",wsPort:"9000",forceTLS:!1,disableStats:!0,encrypted:!1});document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("rxWindow");!n||window.Echo.channel("machine.TEST_DEVICE").listen(".device.data",e=>{const t=document.createElement("div");t.textContent=`[${new Date().toLocaleTimeString()}] ${JSON.stringify(e.data)}`,n.appendChild(t),n.scrollTop=n.scrollHeight})});
